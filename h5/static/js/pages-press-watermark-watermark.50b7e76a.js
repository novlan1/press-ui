(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-press-watermark-watermark"],{"0a06":function(t,e,a){var r=a("ca97");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var n=a("5a15").default;n("611bada2",r,!0,{sourceMap:!1,shadowMode:!1})},3660:function(t,e,a){"use strict";a.r(e);var r=a("5611"),n=a.n(r);for(var i in r)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(i);e["default"]=n.a},"3a66":function(t,e,a){"use strict";a.r(e);var r=a("6202"),n=a("3660");for(var i in n)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);var o,s=a("921e"),l=Object(s["a"])(n["default"],r["b"],r["c"],!1,null,"9bb6d4a6",null,!1,r["a"],o);e["default"]=l.exports},"49b3":function(t,e,a){"use strict";(function(t){a("2a4c");var r=a("de9e").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("57c9"),a("978b"),a("81db"),a("7840"),a("cee1"),a("038d"),a("3e00"),a("cc55"),a("45616"),a("b07f");var n=r(a("6d7c")),i=r(a("b47f")),o=a("6d40"),s=a("a5af");e.default={name:"PressWatermarkWeb",props:(0,n.default)({},o.WATERMARK_PROPS),data:function(){return{imageBase64:"",watermarkUrl:""}},computed:{computedStyle:function(){return(0,i.default)({backgroundImage:"url(".concat(this.watermarkUrl,")"),zIndex:this.zIndex})},rotateStyle:function(){return(0,i.default)({transformOrigin:"center",transform:"rotate(".concat(this.rotate,"deg)")})},svgWidth:function(){return this.width+this.gapX},svgHeight:function(){return this.height+this.gapY},imageHtml:function(){var t=this.imageBase64,e=this.width,a=this.height,r=this.rotateStyle;return'<image\n          href="'.concat(t,'"\n          xlink:href="').concat(t,'"\n          x="0"\n          y="0"\n          width="').concat(e,'"\n          height="').concat(a,'"\n          style="').concat(r,'"\n        />')}},watch:{image:{handler:function(){var t=this;(0,s.makeImageToBase64)(this.image).then((function(e){t.imageBase64=e}))},immediate:!0},imageBase64:function(){var t=this;setTimeout((function(){t.generateWatermarkUrl()}))},content:"generateWatermarkUrl",textColor:"generateWatermarkUrl",height:"generateWatermarkUrl",width:"generateWatermarkUrl",rotate:"generateWatermarkUrl",gapX:"generateWatermarkUrl",gapY:"generateWatermarkUrl"},mounted:function(){var e=this;t.log("slots",this.$slots),setTimeout((function(){e.generateWatermarkUrl()}))},methods:{styles:i.default,generateWatermarkUrl:function(){this.$refs.svgElRef&&(this.revokeWatermarkUrl(),this.watermarkUrl=(0,s.makeSvgToBlobUrl)(this.$refs.svgElRef.innerHTML))},revokeWatermarkUrl:function(){this.watermarkUrl&&URL.revokeObjectURL(this.watermarkUrl)}}}}).call(this,a("44fd")["default"])},5611:function(t,e,a){"use strict";a("2a4c");var r=a("de9e").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(a("6d7c")),i=a("6d40"),o=r(a("d0c5"));e.default={name:"PressWatermark",components:{PressWatermarkWeb:o.default},props:(0,n.default)((0,n.default)({},i.WATERMARK_PROPS),{},{watermark:{type:String,default:""}}),data:function(){return{}},mounted:function(){},methods:{}}},5968:function(t,e,a){"use strict";a.r(e);var r=a("49b3"),n=a.n(r);for(var i in r)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(i);e["default"]=n.a},6202:function(t,e,a){"use strict";var r;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return r}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("PressWatermarkWeb",{attrs:{"gap-x":t.gapX,"gap-y":t.gapY,image:t.image,width:t.width,height:t.height,rotate:t.rotate,"z-index":t.zIndex,content:t.content,opacity:t.opacity,"full-page":t.fullPage,"text-color":t.textColor},scopedSlots:t._u([{key:"content",fn:function(){return[t._t("content")]},proxy:!0}],null,!0)})},i=[]},"6d40":function(t,e,a){"use strict";a("2a4c"),Object.defineProperty(e,"__esModule",{value:!0}),e.WATERMARK_PROPS=void 0,a("d403");e.WATERMARK_PROPS={gapX:{type:Number,default:0},gapY:{type:Number,default:0},image:{type:String,default:""},width:{type:Number,default:100},height:{type:Number,default:100},rotate:{type:[Number,String],default:-22},zIndex:{type:[Number,String],default:100},content:{type:String,default:""},opacity:{type:[Number,String],default:1},fullPage:{type:Boolean,default:!1},textColor:{type:String,default:"#dcdee0"}}},8414:function(t,e,a){"use strict";var r=a("0a06"),n=a.n(r);n.a},"8dc0":function(t,e,a){var r=a("a8d8");e=r(!1),e.push([t.i,".demo-watermark-wrapper[data-v-cd272994]{position:relative;height:150px;background-color:#fff;padding:16px}",""]),t.exports=e},"93f5":function(t,e,a){"use strict";var r;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return r}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"demo-wrap"},[a("demo-block",{attrs:{title:t.t("textWatermark")}},[a("div",{staticClass:"demo-watermark-wrapper"},[a("PressWatermark",{attrs:{content:"Press","full-page":!1}})],1)]),a("demo-block",{attrs:{title:t.t("imageWatermark")}},[a("div",{staticClass:"demo-watermark-wrapper"},[a("PressWatermark",{attrs:{image:t.image,opacity:"0.2","full-page":!1}})],1)]),a("demo-block",{attrs:{title:t.t("customGap")}},[a("div",{staticClass:"demo-watermark-wrapper"},[a("PressWatermark",{attrs:{image:t.image,"gap-x":30,"gap-y":10,opacity:"0.2","full-page":!1}})],1)]),a("demo-block",{attrs:{title:t.t("customRotate")}},[a("div",{staticClass:"demo-watermark-wrapper"},[a("PressWatermark",{attrs:{image:t.image,rotate:"22",opacity:"0.2","full-page":!1}})],1)]),a("demo-block",{attrs:{title:t.t("displayRange")}},[a("div",{staticClass:"demo-watermark-wrapper"},[a("PressButton",{attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.fullPage=!t.fullPage}}},[t._v(t._s(t.t("switch")))]),a("PressWatermark",{attrs:{"full-page":t.fullPage,opacity:"0.2",image:t.image}})],1)]),a("demo-block",{attrs:{title:t.t("htmlWatermark")}},[a("div",{staticClass:"demo-watermark-wrapper"},[a("PressWatermark",{attrs:{width:150,"full-page":!1,watermark:t.watermark},scopedSlots:t._u([{key:"content",fn:function(){return[a("div",{staticStyle:{background:"linear-gradient(45deg, #000 0, #000 50%, #fff 50%)"}},[a("p",{staticStyle:{"mix-blend-mode":"difference",color:"#fff"}},[t._v("Press watermark")])])]},proxy:!0}])})],1)])],1)},i=[]},"96f2":function(t,e,a){"use strict";a("2a4c");var r=a("de9e").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(a("5246")),i=r(a("3a66"));e.default={i18n:{"zh-CN":{switch:"切换",customOpacity:"自定义透明度",customGap:"自定义间隔",customImage:"自定义图片",customRotate:"自定义倾斜角度",displayRange:"显示范围",htmlWatermark:"HTML 水印",textWatermark:"文字水印",imageWatermark:"图片水印"},"en-US":{switch:"Switch",customOpacity:"Custom opacity",customGap:"Custom Gap",customRotate:"Custom Rotate",displayRange:"Display Range",htmlWatermark:"HTML Watermark",textWatermark:"Text Watermark",imageWatermark:"Image Watermark"}},components:{PressWatermark:i.default,PressButton:n.default},data:function(){return{fullPage:!1,image:"https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/press/img/press-ui-full-logo.png",watermark:'<div\n              style="background: linear-gradient(45deg, #000 0, #000 50%, #fff 50%);"\n            >\n              <p style="mix-blend-mode: difference; color: #fff">\n                Press watermark\n              </p>\n            </div>'}},methods:{}}},"9b50":function(t,e,a){"use strict";var r=a("b1c4"),n=a.n(r);n.a},a5af:function(t,e,a){"use strict";(function(t){a("2a4c"),Object.defineProperty(e,"__esModule",{value:!0}),e.makeSvgToBlobUrl=e.makeImageToBase64=void 0,a("978b"),a("81db"),a("7840"),a("cee1"),a("038d"),a("3e00"),a("cc55"),a("45616"),a("b07f");e.makeImageToBase64=function(e){return new Promise((function(a){var r=document.createElement("canvas"),n=new Image;n.crossOrigin="anonymous",n.referrerPolicy="no-referrer",n.onload=function(){r.width=n.naturalWidth,r.height=n.naturalHeight;var e=r.getContext("2d");null===e||void 0===e||e.drawImage(n,0,0),t.log("canvas.width",r.width),t.log("canvas.height",r.height),a(r.toDataURL())},n.src=e}))},e.makeSvgToBlobUrl=function(t){var e=new Blob([t],{type:"image/svg+xml"});return URL.createObjectURL(e)}}).call(this,a("44fd")["default"])},b1c4:function(t,e,a){var r=a("8dc0");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var n=a("5a15").default;n("136906b8",r,!0,{sourceMap:!1,shadowMode:!1})},b740:function(t,e,a){"use strict";var r;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return r}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"press-watermark",class:{"press-watermark--full":t.fullPage},style:t.computedStyle},[a("div",{ref:"svgElRef",staticClass:"press-watermark__wrapper"},[t.image&&!t.$slots.content?a("svg",{style:t.styles({padding:"0 "+t.gapX+"px "+t.gapY+"px 0",opacity:t.opacity}),attrs:{viewBox:"0 0 "+t.svgWidth+" "+t.svgHeight,width:t.svgWidth,height:t.svgHeight,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},domProps:{innerHTML:t._s(t.imageHtml)}}):a("svg",{style:t.styles({padding:"0 "+t.gapX+"px "+t.gapY+"px 0",opacity:t.opacity}),attrs:{viewBox:"0 0 "+t.svgWidth+" "+t.svgHeight,width:t.svgWidth,height:t.svgHeight,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[a("foreignObject",{attrs:{x:"0",y:"0",width:t.width,height:t.height}},[a("div",{style:t.rotateStyle,attrs:{xmlns:"http://www.w3.org/1999/xhtml"}},[t._t("content",[a("span",{style:"color: "+t.textColor},[t._v(t._s(t.content))])])],2)])],1)])])},i=[]},bd77:function(t,e,a){"use strict";a.r(e);var r=a("93f5"),n=a("ca36");for(var i in n)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);a("9b50");var o,s=a("921e"),l=Object(s["a"])(n["default"],r["b"],r["c"],!1,null,"cd272994",null,!1,r["a"],o);e["default"]=l.exports},ca36:function(t,e,a){"use strict";a.r(e);var r=a("96f2"),n=a.n(r);for(var i in r)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(i);e["default"]=n.a},ca97:function(t,e,a){var r=a("a8d8");e=r(!1),e.push([t.i,".press-watermark[data-v-01b8ad84]{--press-watermark-z-index:100;position:absolute;height:100%;width:100%;left:0;top:0;z-index:var(--press-watermark-z-index);background-repeat:repeat;pointer-events:none}.press-watermark__wrapper[data-v-01b8ad84]{display:none}.press-watermark--full[data-v-01b8ad84]{position:fixed}",""]),t.exports=e},d0c5:function(t,e,a){"use strict";a.r(e);var r=a("b740"),n=a("5968");for(var i in n)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);a("8414");var o,s=a("921e"),l=Object(s["a"])(n["default"],r["b"],r["c"],!1,null,"01b8ad84",null,!1,r["a"],o);e["default"]=l.exports}}]);