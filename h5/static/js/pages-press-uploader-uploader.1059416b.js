(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-press-uploader-uploader"],{"07a6":function(e,t,n){"use strict";n("2a4c");var r=n("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.chooseFile=s,n("9e17"),n("d4d2"),n("bae7"),n("978b");var i=n("e435"),a=r(n("e469")),o=null;function s(e){var t=e.count,n=e.sourceType,r=e.type,s=e.extension,c=e.success;o&&(document.body.removeChild(o),o=null),o=(0,a.default)({count:t,sourceType:n,type:r,extension:s}),document.body.appendChild(o),o.addEventListener("change",(function(e){var n=(0,i.watchChange)(e,t),r={errMsg:"chooseFile:ok",get tempFilePaths(){return n.map((function(e){var t=e.path;return t}))},tempFiles:n};c(r)})),o.click()}},"1de8":function(e,t,n){"use strict";(function(e){n("2a4c"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={watch:{accept:{immediate:!0,handler:function(t){"all"!==t&&"media"!==t||e.warn("只有微信小程序才支持把 accept 配置为 all、media 之一")}}}}}).call(this,n("44fd")["default"])},"1f6c":function(e,t,n){var r=n("de84");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("5a15").default;i("0ddb870d",r,!0,{sourceMap:!1,shadowMode:!1})},"205f":function(e,t,n){"use strict";n("2a4c"),Object.defineProperty(t,"__esModule",{value:!0}),t.uniChooseFile=s,t.uniChooseImage=c,t.uniChooseVideo=u;var r=n("12ef"),i=n("07a6"),a=n("f434"),o=n("30b6");function s(e){var t=e.count,n=e.success,a=e.fail,o=e.type;if((0,r.isNotInUni)())return(0,i.chooseFile)({count:t,sourceType:[],type:o,extension:["*"],success:n});uni.chooseFile({count:t,type:o,success:n,fail:a})}function c(e){var t=e.count,n=e.sourceType,i=e.sizeType,o=e.success,s=e.fail;if((0,r.isNotInUni)())return(0,a.chooseImage)({count:t,sourceType:n,extension:["*"],success:o});uni.chooseImage({count:t,sourceType:n,sizeType:i,success:o,fail:s})}function u(e){var t=e.sourceType,n=e.success,i=e.fail,a=e.compressed,s=e.maxDuration,c=e.camera;if((0,r.isNotInUni)())return(0,o.chooseVideo)({sourceType:t,extension:["*"],success:n});uni.chooseVideo({sourceType:t,success:n,fail:i,compressed:a,maxDuration:s,camera:c})}},"231f":function(e,t,n){"use strict";n.r(t);var r=n("b11f"),i=n("db5e");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n("a288");var o,s=n("921e"),c=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"473dc965",null,!1,r["a"],o);t["default"]=c.exports},"30b6":function(e,t,n){"use strict";var r=n("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.chooseVideo=s,n("2a4c");var i=n("46b6"),a=r(n("e469")),o=null;function s(e){var t=e.sourceType,n=e.extension,r=e.success;o&&(document.body.removeChild(o),o=null),o=(0,a.default)({sourceType:t,extension:n,type:"video"}),document.body.appendChild(o),o.addEventListener("change",(function(e){var t,n=e.target.files[0],a={errMsg:"chooseVideo:ok",tempFile:n,size:n.size,duration:0,width:0,height:0,name:n.name};Object.defineProperty(a,"tempFilePath",{get:function(){return t=t||(0,i.fileToUrl)(this.tempFile),t}});var o=document.createElement("video");if(void 0!==o.onloadedmetadata){var s=(0,i.fileToUrl)(n);o.onloadedmetadata=function(){(0,i.revokeObjectURL)(s),r(Object.assign(a,{duration:o.duration||0,width:o.videoWidth||0,height:o.videoHeight||0}))},setTimeout((function(){o.onloadedmetadata=null,(0,i.revokeObjectURL)(s),r(a)}),300),o.src=s}else r(a)})),o.click()}},"31a6":function(e,t,n){"use strict";n("2a4c"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("d403");t.default={props:{accept:{type:String,default:"image"},capture:{type:[String,Array],default:function(){return["album","camera"]}},compressed:{type:Boolean,default:!0},camera:{type:String,default:"back"},maxDuration:{type:Number,default:60},uploadIcon:{type:String,default:"photograph"},uploadIconColor:{type:String,default:"#D3D4D6"},useBeforeRead:{type:Boolean,default:!1},afterRead:{type:Function,default:null},beforeRead:{type:Function,default:null},previewFullImage:{type:Boolean,default:!0},maxCount:{type:[String,Number],default:52},disabled:{type:Boolean,default:!1},imageMode:{type:String,default:"aspectFill"},name:{type:String,default:"file"},sizeType:{type:Array,default:function(){return["original","compressed"]}},multiple:{type:Boolean,default:!1},deletable:{type:Boolean,default:!0},maxSize:{type:[String,Number],default:Number.MAX_VALUE},fileList:{type:Array,default:function(){return[]}},uploadText:{type:String,default:""},width:{type:[String,Number],default:80},height:{type:[String,Number],default:80},previewImage:{type:Boolean,default:!0},customStyle:{type:[String,Object],default:""}}}},"46b6":function(e,t,n){"use strict";n("2a4c"),Object.defineProperty(t,"__esModule",{value:!0}),t.base64ToFile=o,t.blobToFile=u,t.fileToUrl=l,t.getFileName=c,t.getSameOriginUrl=d,t.revokeObjectURL=f,t.urlToFile=a,n("6fdc"),n("6bb6"),n("57c9"),n("8c4e"),n("3cdc"),n("de07"),n("406a"),n("eba2"),n("978b"),n("8052"),n("76d9"),n("81db"),n("079e"),n("ce71"),n("b378"),n("5845"),n("fefb"),n("0d83"),n("17b8"),n("3f8b"),n("42ed"),n("4e38"),n("f3de"),n("c4d7"),n("2f44"),n("f845"),n("4146"),n("378d"),n("e996"),n("3d1a"),n("39d5"),n("36e3"),n("c67b"),n("19d1"),n("190f"),n("03d2"),n("1a58"),n("38bf"),n("e1e1"),n("4243"),n("b677"),n("8641"),n("6aa1"),n("352b"),n("c190"),n("5005"),n("219a"),n("7840"),n("b5e7"),n("8a2b"),n("0206"),n("cee1"),n("038d"),n("3e00"),n("cc55"),n("45616"),n("b07f");var r=n("fad7"),i={};function a(e,t){var n=i[e];return n?Promise.resolve(n):/^data:[a-z-]+\/[a-z-]+;base64,/.test(e)?Promise.resolve(o(e)):t?Promise.reject(new Error("not find")):new Promise((function(t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="blob",r.onload=function(){t(this.response)},r.onerror=n,r.send()}))}function o(e){var t,n=e.split(","),r=(null===(t=n[0])||void 0===t||null===(t=t.match(/:(.*?);/))||void 0===t?void 0:t[1])||"",i=atob(e[1]),a=i.length,o=new Uint8Array(a);while(a)a-=1,o[a]=i.charCodeAt(a);return u(o,r)}function s(e){var t=e.split("/")[1];return t?".".concat(t):""}function c(e){e=e.split("#")[0].split("?")[0];var t=e.split("/");return t[t.length-1]}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!(e instanceof File)){t=t||e.type||"";var n="".concat(Date.now()).concat(s(t));try{e=new File([e],n,{type:t})}catch(r){e=e instanceof Blob?e:new Blob([e],{type:t}),e.name=e.name||n}}return e}function l(e){for(var t in i)if((0,r.hasOwn)(i,t)){var n=i[t];if(n===e)return t}var a=(window.URL||window.webkitURL).createObjectURL(e);return i[a]=e,a}function d(e){var t=document.createElement("a");return t.href=e,t.origin===location.origin?Promise.resolve(e):a(e).then(l)}function f(e){(window.URL||window.webkitURL).revokeObjectURL(e),delete i[e]}},"477c":function(e,t,n){"use strict";(function(e){n("2a4c");var r=n("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("dafe");var i=r(n("6d7c")),a=r(n("c452"));n("57c9"),n("9e17"),n("1146"),n("04ec"),n("d4d2"),n("bae7"),n("978b");var o,s=r(n("231f")),c="https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2023/10/own_mike_a17f94292a34e9f644.jpeg";t.default={i18n:{"zh-CN":{uploadVideo:"上传视频",uploadStatus:"上传状态",preview:"文件预览",maxCount:"限制上传数量",maxSize:"限制上传大小",customStyle:"自定义上传样式",beforeRead:"上传前置处理"},"en-US":{uploadVideo:"Upload Video",uploadStatus:"Upload Status",preview:"Preview",maxCount:"Max Count",maxSize:"Max Size",customStyle:"Custom Style",beforeRead:"Before Read"}},components:{PressUploader:s.default},data:function(){return{fileList1:[],fileListMaxSize:[],fileList2:[],fileList3:[{url:c}],fileList4:[{url:c},{url:c}],fileList6:[],fileListStatus:[{url:c,status:"uploading",message:"上传中..."},{url:c,status:"failed",message:"上传失败"}]}},mounted:function(){o=this},methods:{deletePic:function(t){e.log("[deletePic] event",t),this["fileList".concat(t.name)].splice(t.index,1)},afterRead:function(t){var n=this;return(0,a.default)(regeneratorRuntime.mark((function r(){var a,o,s,c,u,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:e.log("[afterRead] event",t),a="fileList".concat(t.name),o=[].concat(t.file),s=n[a].length,o.map((function(e){n[a].push((0,i.default)((0,i.default)({},e),{},{status:"uploading",message:"上传中"}))})),c=0;case 1:if(!(c<o.length)){r.next=4;break}return r.next=2,n.uploadFilePromise(o[c].path);case 2:u=r.sent,l=n[a][s],n[a].splice(s,1,Object.assign(l,(0,i.default)({message:""},u))),n[a]=n[a].map((function(e){return(0,i.default)({},e)})),s+=1;case 3:c++,r.next=1;break;case 4:case"end":return r.stop()}}),r)})))()},uploadFilePromise:function(t){return e.log("[uploadFilePromise] url",t),new Promise((function(e){setTimeout((function(){return e({url:t,status:"success",message:"上传失败"})}),1e3)}))},onOversize:function(t){e.log("[onOversize] file",t),o.onGTip("文件大小不能超过 500kb")},beforeRead:function(t){return e.log("[beforeRead] file",t),"image/jpeg"===t.type||(o.onGTip("请上传 jpg 格式图片"),!1)},asyncBeforeRead:function(t){return e.log("[asyncBeforeRead] file",t),new Promise((function(e,n){if("image/jpeg"!==t.type)o.onGTip("请上传 jpg 格式图片"),n();else{var r=new File(["foo"],"bar.jpg",{type:"image/jpeg"});e(r)}}))}}}}).call(this,n("44fd")["default"])},5980:function(e,t,n){"use strict";n("2a4c");var r=n("b499").default,i=n("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("5862"),n("9e17"),n("d4d2"),n("0a46"),n("bae7"),n("7b43"),n("978b");var a=i(n("6d7c")),o=n("9466"),s=n("09f0"),c=n("b47f"),u=n("12ef"),l=i(n("dbac")),d=i(n("b802")),f=i(n("31a6")),p=i(n("1de8")),h=r(n("a570")),m=n("ed29");t.default={name:"PressUploader",options:(0,a.default)((0,a.default)({},(0,o.getVirtualHostOptions)(!0,!1)),{},{styleIsolation:"shared"}),components:{PressIcon:l.default,PressLoading:d.default},mixins:[p.default,f.default],emits:["chooseFile","beforeRead","afterRead","oversize","clickPreview","delete","error"],data:function(){return{lists:[],isInCount:!0,isNotInUni:(0,u.isNotInUni)()}},computed:{wrapStyle:function(){return(0,c.style)(this.customStyle)}},watch:{fileList:{immediate:!0,handler:function(){this.formatFileList()}}},methods:{addUnit:s.addUnit,formatFileList:function(){var e=this,t=this.fileList,n=void 0===t?[]:t,r=this.maxCount,i=n.map((function(t){return Object.assign(Object.assign({},t),{isImage:"image"===e.accept||h.image(t.url||t.thumb),isVideo:"video"===e.accept||h.video(t.url||t.thumb),deletable:"boolean"===typeof t.deletable?t.deletable:e.deletable})}));this.lists=i,this.isInCount=i.length<r},chooseFile:function(){var e=this,t=this.maxCount,n=this.multiple,r=this.lists,i=this.disabled;if(this.$emit("chooseFile",i),!i){var a;try{a=Array.isArray(this.capture)?this.capture:this.capture.split(",")}catch(o){a=[]}(0,m.chooseFile)(Object.assign({accept:this.accept,multiple:this.multiple,capture:a,compressed:this.compressed,maxDuration:this.maxDuration,sizeType:this.sizeType,camera:this.camera},{maxCount:t-r.length})).then((function(t){e.onBeforeRead(n?t:t[0])})).catch((function(t){e.$emit("error",t)}))}},onBeforeRead:function(e){var t=this,n=this.beforeRead,r=this.useBeforeRead,i=!0;h.func(n)&&(i=n(e,this.getDetail())),r&&(i=new Promise((function(n,r){t.$emit("beforeRead",Object.assign(Object.assign({file:e},t.getDetail()),{callback:function(e){e?n():r()}}))}))),i&&(h.promise(i)?i.then((function(n){return t.onAfterRead(n||e)})):this.onAfterRead(e))},getDetail:function(e){return{name:this.name,index:null==e?this.fileList.length:e}},onAfterRead:function(e){var t=this.maxSize,n=this.afterRead,r=Array.isArray(e)?e.some((function(e){return e.size>t})):e.size>t;r?this.$emit("oversize",Object.assign({file:e},this.getDetail())):("function"===typeof n&&n(e,this.getDetail()),this.$emit("afterRead",Object.assign({file:e},this.getDetail())))},deleteItem:function(e){this.$emit("delete",Object.assign(Object.assign({},this.getDetail(e)),{file:this.fileList[e]}))},onPreviewImage:function(e){var t=this;e.isImage&&this.previewFullImage&&uni.previewImage({urls:this.lists.filter((function(e){return"image"===t.accept||h.image(e.url||e.thumb)})).map((function(e){return e.url||e.thumb})),current:e.url||e.thumb,fail:function(){}})},onPreviewVideo:function(e){if(this.data.previewFullImage){var t=e.currentTarget.dataset.index,n=this.data.lists;wx.previewMedia({sources:n.map((function(e){return Object.assign(Object.assign({},e),{type:"video"})})),current:t,fail:function(){}})}},onClickPreview:function(e){var t=e.currentTarget.dataset.index,n=this.data.lists[t];this.$emit("clickPreview",Object.assign(Object.assign({},n),this.getDetail(t)))}}}},"5b024":function(e,t,n){"use strict";n("2a4c"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={image:{jpg:"jpeg",jpe:"jpeg",pbm:"x-portable-bitmap",pgm:"x-portable-graymap",pnm:"x-portable-anymap",ppm:"x-portable-pixmap",psd:"vnd.adobe.photoshop",pic:"x-pict",rgb:"x-rgb",svg:"svg+xml",svgz:"svg+xml",tif:"tiff",xif:"vnd.xiff",wbmp:"vnd.wap.wbmp",wdp:"vnd.ms-photo",xbm:"x-xbitmap",ico:"x-icon"},video:{"3g2":"3gpp2","3gp":"3gpp",avi:"x-msvideo",f4v:"x-f4v",flv:"x-flv",jpgm:"jpm",jpgv:"jpeg",m1v:"mpeg",m2v:"mpeg",mpe:"mpeg",mpg:"mpeg",mpg4:"mpeg",m4v:"x-m4v",mkv:"x-matroska",mov:"quicktime",qt:"quicktime",movie:"x-sgi-movie",mp4v:"mp4",ogv:"ogg",smv:"x-smv",wm:"x-ms-wm",wmv:"x-ms-wmv",wmx:"x-ms-wmx",wvx:"x-ms-wvx"}}},8544:function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"demo-wrap"},[n("demo-block",{attrs:{title:e.t("basicUsage")}},[n("PressUploader",{attrs:{"file-list":e.fileList1,name:"1",multiple:!0,"max-count":10},on:{afterRead:function(t){arguments[0]=t=e.$handleEvent(t),e.afterRead.apply(void 0,arguments)},delete:function(t){arguments[0]=t=e.$handleEvent(t),e.deletePic.apply(void 0,arguments)}}})],1),n("demo-block",{attrs:{title:e.t("uploadVideo")}},[n("PressUploader",{attrs:{"file-list":e.fileList2,name:"2",multiple:!0,"max-count":10,accept:"video"},on:{afterRead:function(t){arguments[0]=t=e.$handleEvent(t),e.afterRead.apply(void 0,arguments)},delete:function(t){arguments[0]=t=e.$handleEvent(t),e.deletePic.apply(void 0,arguments)}}})],1),n("demo-block",{attrs:{title:e.t("uploadStatus")}},[n("PressUploader",{attrs:{"file-list":e.fileListStatus,name:"Status",multiple:!0,"max-count":10,accept:"video"},on:{afterRead:function(t){arguments[0]=t=e.$handleEvent(t),e.afterRead.apply(void 0,arguments)},delete:function(t){arguments[0]=t=e.$handleEvent(t),e.deletePic.apply(void 0,arguments)}}})],1),n("demo-block",{attrs:{title:e.t("preview")}},[n("PressUploader",{attrs:{"file-list":e.fileList3,name:"3",multiple:!0,"max-count":10,"preview-full-image":!0},on:{afterRead:function(t){arguments[0]=t=e.$handleEvent(t),e.afterRead.apply(void 0,arguments)},delete:function(t){arguments[0]=t=e.$handleEvent(t),e.deletePic.apply(void 0,arguments)}}})],1),n("demo-block",{attrs:{title:e.t("maxCount")}},[n("PressUploader",{attrs:{"file-list":e.fileList4,name:"4",multiple:!0,"max-count":2},on:{afterRead:function(t){arguments[0]=t=e.$handleEvent(t),e.afterRead.apply(void 0,arguments)},delete:function(t){arguments[0]=t=e.$handleEvent(t),e.deletePic.apply(void 0,arguments)}}})],1),n("demo-block",{attrs:{title:e.t("maxSize")}},[n("PressUploader",{attrs:{"file-list":e.fileListMaxSize,name:"MaxSize",multiple:!0,"max-size":512e3},on:{afterRead:function(t){arguments[0]=t=e.$handleEvent(t),e.afterRead.apply(void 0,arguments)},oversize:function(t){arguments[0]=t=e.$handleEvent(t),e.onOversize.apply(void 0,arguments)}}})],1),n("demo-block",{attrs:{title:e.t("customStyle")}},[n("PressUploader",{attrs:{"file-list":e.fileList6,name:"6",multiple:!0,"max-count":1,width:"250",height:"150"},on:{afterRead:function(t){arguments[0]=t=e.$handleEvent(t),e.afterRead.apply(void 0,arguments)},delete:function(t){arguments[0]=t=e.$handleEvent(t),e.deletePic.apply(void 0,arguments)}}},[n("img",{staticStyle:{width:"250px",height:"150px"},attrs:{src:"https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2023/10/own_mike_799718017ac81b11c0.png",mode:"widthFix",width:"250px",height:"150px"}})])],1),n("demo-block",{attrs:{title:e.t("beforeRead")}},[n("PressUploader",{attrs:{"before-read":e.beforeRead}})],1),n("demo-block",{attrs:{title:e.t("disabled")}},[n("PressUploader",{attrs:{disabled:!0}})],1)],1)},a=[]},a288:function(e,t,n){"use strict";var r=n("1f6c"),i=n.n(r);i.a},a570:function(e,t,n){"use strict";n("2a4c");var r=n("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.amount=m,t.array=O,t.carNo=h,t.chinese=v,t.code=L,t.contains=y,t.date=c,t.dateISO=u,t.digits=f,t.email=a,t.empty=j,t.enOrNum=b,t.func=z,t.idCard=p,t.image=R,t.jsonString=P,t.landline=x,t.letter=g,t.mobile=o,t.number=l,t.object=k,t.promise=E,t.range=_,t.rangeLength=w,t.regExp=$,t.string=d,t.url=s,t.video=S;var i=r(n("3eee"));function a(e){return/^\w+((-\w+)|(\.\w+))*@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/.test(e)}function o(e){return/^1([3589]\d|4[5-9]|6[1-2,4-7]|7[0-8])\d{8}$/.test(e)}function s(e){return/^((https|http|ftp|rtsp|mms):\/\/)(([0-9a-zA-Z_!~*'().&=+$%-]+: )?[0-9a-zA-Z_!~*'().&=+$%-]+@)?(([0-9]{1,3}.){3}[0-9]{1,3}|([0-9a-zA-Z_!~*'()-]+.)*([0-9a-zA-Z][0-9a-zA-Z-]{0,61})?[0-9a-zA-Z].[a-zA-Z]{2,6})(:[0-9]{1,4})?((\/?)|(\/[0-9a-zA-Z_!~*'().;?:@&=+$,%#-]+)+\/?)$/.test(e)}function c(e){return!!e&&(l(e)&&(e=+e),!/Invalid|NaN/.test(new Date(e).toString()))}function u(e){return/^\d{4}[/-](0?[1-9]|1[012])[/-](0?[1-9]|[12][0-9]|3[01])$/.test(e)}function l(e){return/^[+-]?(\d+\.?\d*|\.\d+|\d\.\d+e\+\d+)$/.test(e)}function d(e){return"string"===typeof e}function f(e){return/^\d+$/.test(e)}function p(e){return/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/.test(e)}function h(e){var t=/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}(([0-9]{5}[DF]$)|([DF][A-HJ-NP-Z0-9][0-9]{4}$))/,n=/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-HJ-NP-Z0-9]{4}[A-HJ-NP-Z0-9挂学警港澳]{1}$/;return 7===e.length?n.test(e):8===e.length&&t.test(e)}function m(e){return/^[1-9]\d*(,\d{3})*(\.\d{1,2})?$|^0\.\d{1,2}$/.test(e)}function v(e){var t=/^[\u4e00-\u9fa5]+$/gi;return t.test(e)}function g(e){return/^[a-zA-Z]*$/.test(e)}function b(e){var t=/^[0-9a-zA-Z]*$/g;return t.test(e)}function y(e,t){return e.indexOf(t)>=0}function _(e,t){return e>=t[0]&&e<=t[1]}function w(e,t){return e.length>=t[0]&&e.length<=t[1]}function x(e){var t=/^\d{3,4}-\d{7,8}(-\d{3,4})?$/;return t.test(e)}function j(e){switch((0,i.default)(e)){case"undefined":return!0;case"string":if(0==e.replace(/(^[ \t\n\r]*)|([ \t\n\r]*$)/g,"").length)return!0;break;case"boolean":if(!e)return!0;break;case"number":if(0===e||isNaN(e))return!0;break;case"object":if(null===e||0===e.length)return!0;for(var t in e)return!1;return!0}return!1}function P(e){if("string"===typeof e)try{var t=JSON.parse(e);return!("object"!==(0,i.default)(t)||!t)}catch(n){return!1}return!1}function O(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}function k(e){return"[object Object]"===Object.prototype.toString.call(e)}function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;return new RegExp("^\\d{".concat(t,"}$")).test(e)}function z(e){return"function"===typeof e}function E(e){return k(e)&&z(e.then)&&z(e.catch)}function R(e){var t=e.split("?")[0],n=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i;return n.test(t)}function S(e){var t=/\.(mp4|mpg|mpeg|dat|asf|avi|rm|rmvb|mov|wmv|flv|mkv|m3u8)/i;return t.test(e)}function $(e){return e&&"[object RegExp]"===Object.prototype.toString.call(e)}n("6bb6"),n("3056"),n("447f"),n("978b"),n("d11a"),n("4ec5"),n("8052"),n("6671"),n("76d9"),n("eed8"),n("6275")},b11f:function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"press-upload",style:e.wrapStyle},[n("div",{staticClass:"press-upload__wrap"},[e.previewImage?e._l(e.lists,(function(t,r){return n("div",{key:r,staticClass:"press-upload__wrap__preview"},[t.isImage||t.type&&"image"===t.type?[e.isNotInUni?n("img",{staticClass:"press-upload__wrap__preview__image",style:[{width:e.addUnit(e.width),height:e.addUnit(e.height)}],attrs:{src:t.thumb||t.url,mode:e.imageMode},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.onPreviewImage(t)}}}):n("v-uni-image",{staticClass:"press-upload__wrap__preview__image",style:[{width:e.addUnit(e.width),height:e.addUnit(e.height)}],attrs:{src:t.thumb||t.url,mode:e.imageMode},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.onPreviewImage(t)}}})]:n("div",{staticClass:"press-upload__wrap__preview__other"},[n("PressIcon",{attrs:{color:"#80CBF9",size:"26",name:t.isVideo||t.type&&"video"===t.type?"movie":"folder"}}),n("span",{staticClass:"press-upload__wrap__preview__other__text"},[e._v(e._s(t.isVideo||t.type&&"video"===t.type?"视频":"文件"))])],1),"uploading"===t.status||"failed"===t.status?n("div",{staticClass:"press-upload__status"},[n("div",{staticClass:"press-upload__status__icon"},["failed"===t.status?n("PressIcon",{attrs:{name:"close",color:"#ffffff",size:"22"}}):n("PressLoading",{attrs:{size:"22",mode:"circle",color:"#ffffff"}})],1),t.message?n("span",{staticClass:"press-upload__status__message"},[e._v(e._s(t.message))]):e._e()]):e._e(),"uploading"!==t.status&&(e.deletable||t.deletable)?n("div",{staticClass:"press-upload__deletable",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.deleteItem(r)}}},[n("PressIcon",{attrs:{name:"cross",color:"#ffffff",size:"16","custom-class":"press-upload__deletable__icon"}})],1):e._e(),(t.status,e._e())],2)})):e._e(),e.isInCount?[e.$slots.default||e.$slots.$default?n("div",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.chooseFile.apply(void 0,arguments)}}},[e._t("default")],2):n("div",{staticClass:"press-upload__button",class:[e.disabled&&"press-upload__button--disabled"],style:[{width:e.addUnit(e.width),height:e.addUnit(e.height)}],attrs:{"hover-class":e.disabled?"":"press-upload__button--hover","hover-stay-time":"150"},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.chooseFile.apply(void 0,arguments)}}},[n("PressIcon",{attrs:{name:e.uploadIcon,size:"26",color:e.uploadIconColor},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.chooseFile.apply(void 0,arguments)}}}),e.uploadText?n("span",{staticClass:"press-upload__button__text"},[e._v(e._s(e.uploadText))]):e._e()],1)]:e._e()],2)])},a=[]},c452:function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var s=e[a](o),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,c,"next",e)}function c(e){r(o,i,a,s,c,"throw",e)}s(void 0)}))}}n("2a4c"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,n("978b")},dafe:function(e,t){!function(t){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag",u="object"===typeof e,l=t.regeneratorRuntime;if(l)u&&(e.exports=l);else{l=t.regeneratorRuntime=u?e.exports:{},l.wrap=_;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",m={},v={};v[o]=function(){return this};var g=Object.getPrototypeOf,b=g&&g(g($([])));b&&b!==r&&i.call(b,o)&&(v=b);var y=P.prototype=x.prototype=Object.create(v);j.prototype=y.constructor=P,P.constructor=j,P[c]=j.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===j||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,P):(e.__proto__=P,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(y),e},l.awrap=function(e){return{__await:e}},O(k.prototype),k.prototype[s]=function(){return this},l.AsyncIterator=k,l.async=function(e,t,n,r){var i=new k(_(e,t,n,r));return l.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(y),y[c]="Generator",y[o]=function(){return this},y.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){while(t.length){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=$,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(R),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return s.type="throw",s.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=i.call(o,"catchLoc"),u=i.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;R(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:$(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),m}}}function _(e,t,n,r){var i=t&&t.prototype instanceof x?t:x,a=Object.create(i.prototype),o=new S(r||[]);return a._invoke=L(e,n,o),a}function w(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}function x(){}function j(){}function P(){}function O(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function k(e){function t(n,r,a,o){var s=w(e[n],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"===typeof u&&i.call(u,"__await")?Promise.resolve(u.__await).then((function(e){t("next",e,a,o)}),(function(e){t("throw",e,a,o)})):Promise.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return t("throw",e,a,o)}))}o(s.arg)}var n;function r(e,r){function i(){return new Promise((function(n,i){t(e,r,n,i)}))}return n=n?n.then(i,i):i()}this._invoke=r}function L(e,t,n){var r=d;return function(i,a){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw a;return F()}n.method=i,n.arg=a;while(1){var o=n.delegate;if(o){var s=z(o,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=w(e,t,n);if("normal"===c.type){if(r=n.done?h:f,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=h,n.method="throw",n.arg=c.arg)}}}function z(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,z(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=w(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,m;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,m):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(e){if(e){var t=e[o];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){while(++r<e.length)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return a.next=a}}return{next:F}}function F(){return{value:n,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},db5e:function(e,t,n){"use strict";n.r(t);var r=n("5980"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},de84:function(e,t,n){var r=n("a8d8");t=r(!1),t.push([e.i,".press-upload[data-v-473dc965]{display:flex;flex-direction:column;flex:1}.press-upload__wrap[data-v-473dc965]{display:flex;flex-wrap:wrap;flex:1}.press-upload__wrap__preview[data-v-473dc965]{border-radius:2px;margin:0 8px 8px 0;position:relative;overflow:hidden;display:flex}.press-upload__wrap__preview__image[data-v-473dc965]{width:80px;height:80px}.press-upload__wrap__preview__other[data-v-473dc965]{width:80px;height:80px;background-color:#f2f2f2;flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center}.press-upload__wrap__preview__other__text[data-v-473dc965]{font-size:11px;color:#909193;margin-top:2px}.press-upload__deletable[data-v-473dc965]{position:absolute;top:0;right:0;width:14px;height:14px;background-color:#373737;display:flex;border-bottom-left-radius:100px;align-items:center;justify-content:center;z-index:3}.press-upload__deletable[data-v-473dc965]  .press-upload__deletable__icon,.press-upload__deletable__icon[data-v-473dc965]{position:absolute;-webkit-transform:scale(.5);transform:scale(.5);top:-2px;right:-2px;font-size:16px}.press-upload__success[data-v-473dc965]{position:absolute;bottom:0;right:0;display:flex;border-style:solid;border-top-color:transparent;border-left-color:transparent;border-bottom-color:#5ac725;border-right-color:#5ac725;border-width:9px;align-items:center;justify-content:center}.press-upload__success__icon[data-v-473dc965]{position:absolute;-webkit-transform:scale(.7);transform:scale(.7);bottom:-10px;right:-10px}.press-upload__status[data-v-473dc965]{position:absolute;top:0;bottom:0;left:0;right:0;background-color:rgba(0,0,0,.5);display:flex;flex-direction:column;align-items:center;justify-content:center}.press-upload__status__icon[data-v-473dc965]{position:relative;z-index:1}.press-upload__status__message[data-v-473dc965]{font-size:12px;color:#fff;margin-top:5px}.press-upload__button[data-v-473dc965]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:80px;height:80px;background-color:#f4f5f7;border-radius:2px;margin:0 8px 8px 0;box-sizing:border-box}.press-upload__button__text[data-v-473dc965]{font-size:11px;color:#909193;margin-top:2px}.press-upload__button--hover[data-v-473dc965]{background-color:#e6e7e9}.press-upload__button--disabled[data-v-473dc965]{opacity:.5}",""]),e.exports=t},e435:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.watchChange=i,n("1146"),n("2a4c");var r=n("46b6");function i(e,t){for(var n=[],i=e.target.files.length,a=function(){var i,a=e.target.files[o];Object.defineProperty(a,"path",{get:function(){return i=i||(0,r.fileToUrl)(a),i}}),o<t&&n.push(a)},o=0;o<i;o++)a();return n}},e469:function(e,t,n){"use strict";n("2a4c");var r=n("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=c,n("57c9"),n("3056"),n("9e17"),n("d4d2"),n("bae7"),n("978b"),n("8052"),n("079e"),n("6275");var i=n("12ef"),a=r(n("5b024")),o="*";function s(){var e=window.navigator.userAgent.toLowerCase();return!(!e.match(/MicroMessenger/i)||"micromessenger"!==e.match(/MicroMessenger/i)[0])}function c(e){var t=e.count,n=e.sourceType,r=e.type,c=e.extension,u=void 0===c?["*"]:c,l=document.createElement("input");return l.type="file",(0,i.updateElementStyle)(l,{position:"absolute",visibility:"hidden","z-index":-999,width:0,height:0,top:0,left:0}),l.accept=u.map((function(e){if(r!==o){var t=e.replace(".","");return"".concat(r,"/").concat(a.default[r][t]||t)}return s()?".":0===e.indexOf(".")?e:".".concat(e)})).join(","),t>1&&(l.multiple="multiple"),1===n.length&&"camera"===n[0]&&(l.capture="camera"),l}},ed29:function(e,t,n){"use strict";n("2a4c"),Object.defineProperty(t,"__esModule",{value:!0}),t.chooseFile=s,n("978b");var r=n("205f");function i(e){return e.tempFiles}function a(e){return e}function o(e){return e.tempFiles}function s(e){var t=e.accept,n=e.multiple,s=e.capture,c=e.compressed,u=e.maxDuration,l=e.sizeType,d=e.camera,f=e.maxCount;return new Promise((function(e,p){switch(t){case"image":(0,r.uniChooseImage)({count:n?Math.min(f,9):1,sourceType:s,sizeType:l,success:function(t){return e(i(t))},fail:p});break;case"video":(0,r.uniChooseVideo)({sourceType:s,compressed:c,maxDuration:u,camera:d,success:function(t){return e(a(t))},fail:p});break;case"file":(0,r.uniChooseFile)({count:n?f:1,type:t,success:function(t){return e(o(t))},fail:p});break;default:(0,r.uniChooseFile)({count:n?f:1,type:"all",success:function(t){return e(o(t))},fail:p})}}))}},f434:function(e,t,n){"use strict";n("2a4c");var r=n("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.chooseImage=s,n("9e17"),n("d4d2"),n("bae7"),n("978b");var i=n("e435"),a=r(n("e469")),o=null;function s(e){var t=e.count,n=e.sourceType,r=e.extension,s=e.success;o&&(document.body.removeChild(o),o=null),o=(0,a.default)({count:t,sourceType:n,extension:r,type:"image"}),document.body.appendChild(o),o.addEventListener("change",(function(e){var n=(0,i.watchChange)(e,t),r={errMsg:"chooseImage:ok",get tempFilePaths(){return n.map((function(e){var t=e.path;return t}))},tempFiles:n};s(r)})),o.click()}},f4fb:function(e,t,n){"use strict";n.r(t);var r=n("477c"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},fad7:function(e,t,n){"use strict";n("2a4c"),Object.defineProperty(t,"__esModule",{value:!0}),t.hasOwn=i;var r=Object.prototype.hasOwnProperty;function i(e,t){return r.call(e,t)}},fc23:function(e,t,n){"use strict";n.r(t);var r=n("8544"),i=n("f4fb");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o,s=n("921e"),c=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"3b98412e",null,!1,r["a"],o);t["default"]=c.exports}}]);