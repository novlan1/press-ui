(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-press-barrage-barrage"],{"0fd9":function(t,e,a){var r=a("a8d8");e=r(!1),e.push([t.i,".press-barrage[data-v-7d44923e]{position:relative;overflow:hidden}[data-v-7d44923e] .press-barrage__item{position:absolute;top:0;right:0;z-index:99;padding-bottom:var(--press-barrage-space,10px);opacity:.75;line-height:1;font-size:var(--press-barrage-font-size,16px);font-family:var(--press-barrage-font,inherit);font-weight:700;white-space:nowrap;color:var(--press-barrage-color,var(--press-white,#fff));text-shadow:1px 0 1px #000,0 1px 1px #000,0 -1px 1px #000,-1px 0 1px #000;-webkit-user-select:none;user-select:none;will-change:transform;-webkit-transform:translateX(110%);transform:translateX(110%);-webkit-animation-name:press-barrage-data-v-7d44923e;animation-name:press-barrage-data-v-7d44923e}@-webkit-keyframes press-barrage-data-v-7d44923e{from{-webkit-transform:translateX(110%);transform:translateX(110%)}to{-webkit-transform:translateX(var(--move-distance));transform:translateX(var(--move-distance))}}@keyframes press-barrage-data-v-7d44923e{from{-webkit-transform:translateX(110%);transform:translateX(110%)}to{-webkit-transform:translateX(var(--move-distance));transform:translateX(var(--move-distance))}}",""]),t.exports=e},1064:function(t,e,a){"use strict";a("2a4c");var r=a("de9e").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(a("ef56"));a("57c9");var n=a("241b"),s=r(a("2fec")),o=r(a("5246"));e.default={i18n:{"zh-CN":{barrage:"弹幕",play:"开始",pause:"暂停",videoBarrage:"模仿视频弹幕",lightweight:"轻量",customizable:"可定制的",mobile:"移动端",library:"组件库"},"en-US":{barrage:"barrage",play:"play",pause:"pause",videoBarrage:"Imitate video barrage",lightweight:"Lightweight",customizable:"Customizable",mobile:"Mobile",library:"Library"}},components:{PressBarrage:s.default,PressButton:o.default},data:function(){var t=[{id:100,text:this.t("lightweight")},{id:101,text:this.t("customizable")},{id:102,text:this.t("mobile")},{id:103,text:"Vue"},{id:104,text:this.t("library")},{id:105,text:"PressUI"},{id:106,text:"666"}];return{list:t,videoList:[].concat(t),isPlay:!1}},watch:{isPlay:{handler:function(t){var e,a;t?null===(e=this.$refs.pressBarrage)||void 0===e||e.play():null===(a=this.$refs.pressBarrage)||void 0===a||a.pause()}}},methods:{add:function(){(0,n.setAdapter)(this,"list",[].concat((0,i.default)(this.list),[{id:Math.random(),text:"Barrage"}]))},videoAdd:function(){(0,n.setAdapter)(this,"videoList",[].concat((0,i.default)(this.videoList),[{id:Math.random(),text:"Barrage"}]))},toggle:function(){this.isPlay=!this.isPlay}}}},2250:function(t,e,a){"use strict";a.r(e);var r=a("3088"),i=a.n(r);for(var n in r)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(n);e["default"]=i.a},"241b":function(t,e,a){"use strict";a("2a4c"),Object.defineProperty(e,"__esModule",{value:!0}),e.setAdapter=i;var r=a("4208");function i(t,e,a){return"function"===typeof r.Vue.set&&r.Vue.set(t,e,a),t}},"28b8":function(t,e,a){"use strict";var r;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return r}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"barrageWrapper",staticClass:"press-barrage",style:t.barrageStyle,attrs:{id:t.barrageId}},[t._t("default")],2)},n=[]},"2fec":function(t,e,a){"use strict";a.r(e);var r=a("28b8"),i=a("2250");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("f6a1");var s,o=a("921e"),u=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"7d44923e",null,!1,r["a"],s);e["default"]=u.exports},3088:function(t,e,a){"use strict";a("0a46"),a("2a4c");var r=a("de9e").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(a("ef56"));a("5862"),a("888e"),a("9e17"),a("1146"),a("04ec"),a("d4d2"),a("4034"),a("bae7"),a("6801"),a("d403"),a("978b"),a("81db"),a("64ff"),a("7840");a("dc16"),a("b47f");var n=a("e293"),s="press-barrage__item",o=0;e.default={name:"PressBarrage",mixins:[(0,n.getVModelMixin)({type:[Array],defaultValue:function(){return[]}})],props:{autoPlay:{type:Boolean,default:!0},rows:{type:[Number,String],default:4},top:{type:[Number,String],default:10},duration:{type:[Number,String],default:4e3},delay:{type:Number,default:300},itemHeight:{type:Number,default:26}},data:function(){return{isInitBarrage:!0,barrageItems:[],isPlay:!1,total:0,barrageStyle:"",barrageId:""}},computed:{},watch:{realModelValue:{handler:function(t,e){this.updateBarrages(t,e)},deep:!0}},mounted:function(){var t=this;o+=1,this.barrageId="press-barrage-".concat(o),setTimeout((function(){t.init()}))},methods:{init:function(){var t=this,e=function(){setTimeout((function(){t.updateBarrages(t.realModelValue,[])}))},a=this.$refs.barrageWrapper.offsetWidth;this.barrageStyle="--move-distance: -".concat(a,"px"),e()},play:function(){this.isPlay=!0,this.barrageItems.forEach((function(t){t.style.animationPlayState="running"}))},pause:function(){this.isPlay=!1,this.barrageItems.forEach((function(t){t.style.animationPlayState="paused"}))},createBarrageItem:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.delay,a={};return a=document.createElement("span"),a.style.animationDuration="".concat(this.duration,"ms"),a.style.animationDelay="".concat(e,"ms"),a.style.animationTimingFunction="linear",a.className=s,a.innerText=String(t),a},appendBarrageItem:function(t,e){var a,r=this,n=t.id,s=t.text,o=this.createBarrageItem(s,this.isInitBarrage?e*this.delay:void 0);this.autoPlay||!1!==this.isPlay||(o.style.animationPlayState="paused"),null===(a=this.$refs.barrageWrapper)||void 0===a||a.append(o),this.total+=1;var u=this.itemHeight;u=o.offsetHeight;var l=(this.total-1)%+this.rows*u+ +this.top;o.style.top="".concat(l,"px"),o.id=String(n),this.barrageItems.push(o),o.addEventListener("animationend",(function(){r.emitModelValue((0,i.default)(r.realModelValue).filter((function(t){return String(t.id)!==o.id})))}))},animationend:function(t){this.emitModelValue((0,i.default)(this.realModelValue).filter((function(e){return String(e.id)!==t.id})))},updateBarrages:function(t,e){var a=this,r=new Map(e.map((function(t){return[t.id,t]})));t.forEach((function(t,e){r.has(t.id)?r.delete(t.id):a.appendBarrageItem(t,e)})),r.forEach((function(t){var e=a.barrageItems.findIndex((function(e){return e.id===String(t.id)}));e>-1&&(a.barrageItems[e].remove(),a.barrageItems.splice(e,1))})),this.isInitBarrage=!1}}}},"3c9c":function(t,e,a){"use strict";var r=a("858f"),i=a("5a67");r("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},"5a67":function(t,e,a){"use strict";var r=a("dce9"),i=a("7e3a"),n=a("1dc6"),s=a("d04d"),o=a("4f6e"),u=a("7ecf"),l=a("b49c"),d=a("87ac"),f=a("cf1e"),c=a("2b5e"),p=a("db4c"),v=a("411b").fastKey,h=a("c74f"),g=h.set,m=h.getterFor;t.exports={getConstructor:function(t,e,a,d){var f=t((function(t,i){o(t,c),g(t,{type:e,index:r(null),first:null,last:null,size:0}),p||(t.size=0),u(i)||l(i,t[d],{that:t,AS_ENTRIES:a})})),c=f.prototype,h=m(e),b=function(t,e,a){var r,i,n=h(t),s=y(t,e);return s?s.value=a:(n.last=s={index:i=v(e,!0),key:e,value:a,previous:r=n.last,next:null,removed:!1},n.first||(n.first=s),r&&(r.next=s),p?n.size++:t.size++,"F"!==i&&(n.index[i]=s)),t},y=function(t,e){var a,r=h(t),i=v(e);if("F"!==i)return r.index[i];for(a=r.first;a;a=a.next)if(a.key===e)return a};return n(c,{clear:function(){var t=this,e=h(t),a=e.first;while(a)a.removed=!0,a.previous&&(a.previous=a.previous.next=null),a=a.next;e.first=e.last=null,e.index=r(null),p?e.size=0:t.size=0},delete:function(t){var e=this,a=h(e),r=y(e,t);if(r){var i=r.next,n=r.previous;delete a.index[r.index],r.removed=!0,n&&(n.next=i),i&&(i.previous=n),a.first===r&&(a.first=i),a.last===r&&(a.last=n),p?a.size--:e.size--}return!!r},forEach:function(t){var e,a=h(this),r=s(t,arguments.length>1?arguments[1]:void 0);while(e=e?e.next:a.first){r(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!y(this,t)}}),n(c,a?{get:function(t){var e=y(this,t);return e&&e.value},set:function(t,e){return b(this,0===t?0:t,e)}}:{add:function(t){return b(this,t=0===t?0:t,t)}}),p&&i(c,"size",{configurable:!0,get:function(){return h(this).size}}),f},setStrong:function(t,e,a){var r=e+" Iterator",i=m(e),n=m(r);d(t,e,(function(t,e){g(this,{type:r,target:t,state:i(t),kind:e,last:null})}),(function(){var t=n(this),e=t.kind,a=t.last;while(a&&a.removed)a=a.previous;return t.target&&(t.last=a=a?a.next:t.state.first)?f("keys"===e?a.key:"values"===e?a.value:[a.key,a.value],!1):(t.target=null,f(void 0,!0))}),a?"entries":"values",!a,!0),c(e)}}},6801:function(t,e,a){"use strict";a("3c9c")},7558:function(t,e,a){"use strict";var r;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return r}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"demo-wrap"},[a("demo-block",{attrs:{title:t.t("basicUsage")}},[a("PressBarrage",{model:{value:t.list,callback:function(e){t.list=e},expression:"list"}},[a("div",{staticClass:"video",staticStyle:{width:"100%",height:"150px",background:"#f2f3f5"}})]),a("PressButton",{attrs:{type:"primary",size:"small","custom-style":"margin-top: 10px;"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.add.apply(void 0,arguments)}}},[t._v("弹幕")])],1),a("demo-block",{attrs:{title:t.t("videoBarrage")}},[a("PressBarrage",{ref:"pressBarrage",attrs:{"auto-play":!1},model:{value:t.videoList,callback:function(e){t.videoList=e},expression:"videoList"}},[a("div",{staticClass:"video",staticStyle:{width:"100%",height:"150px",background:"#f2f3f5"}})]),a("div",[a("PressButton",{attrs:{type:"primary",size:"small",disabled:!t.isPlay,"custom-style":"margin-top: 10px;margin-right: 10px;"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.videoAdd.apply(void 0,arguments)}}},[t._v("弹幕")]),a("PressButton",{attrs:{type:"default",size:"small","custom-style":"margin-top: 10px;"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toggle.apply(void 0,arguments)}}},[t._v(t._s(t.isPlay?t.t("pause"):t.t("play")))])],1)],1)],1)},n=[]},c211:function(t,e,a){var r=a("0fd9");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var i=a("5a15").default;i("4a3a4024",r,!0,{sourceMap:!1,shadowMode:!1})},e613:function(t,e,a){"use strict";a.r(e);var r=a("1064"),i=a.n(r);for(var n in r)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(n);e["default"]=i.a},f6a1:function(t,e,a){"use strict";var r=a("c211"),i=a.n(r);i.a},ff46:function(t,e,a){"use strict";a.r(e);var r=a("7558"),i=a("e613");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);var s,o=a("921e"),u=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"8eae3304",null,!1,r["a"],s);e["default"]=u.exports}}]);