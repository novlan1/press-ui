(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-press-image-preview-image-preview"],{"00d9":function(e,t,o){"use strict";o("dcd5");var n=o("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(o("6d7c"));o("1469");var a=o("5e91"),s=o("0b5a"),r=o("8d6b"),c=n(o("4710")),l=n(o("6ec5")),u={images:{type:Array,default:function(){return[]}},startPosition:{type:[Number,String],default:0},transition:{type:String,default:"press-fade"},showIndex:{type:Boolean,default:!0},asyncClose:{type:Boolean,default:!1},customStyle:{type:String,default:""},customClass:{type:String,default:""},closeable:{type:Boolean,default:!1},closeIcon:{type:String,default:"clear"},closeIconPosition:{type:String,default:"top-right"},zIndex:{type:Number,default:10}};t.default={name:"PressImagePreview",components:{PressOverlay:l.default,PressIconPlus:c.default},mixins:[(0,s.functionalMixin)(u),r.SwiperPureMixin],props:(0,i.default)({},u),emits:["close","change"],data:function(){return{active:0}},computed:{imagePreviewStyle:function(){return this.getPropOrData("customStyle")}},watch:{startPosition:"setActive",show:function(e){e?(this.setActive(+this.getPropOrData("startPosition")),(0,a.nextTick)((function(){}))):this.$emit("close",{index:this.active,url:this.getPropOrData("images")[this.active]})}},mounted:function(){},methods:{showImagePreview:function(e){this.showDialog(e),this.setActive(e.startPosition||0)},onClosed:function(){},onChange:function(e){var t=e.detail.current,o=void 0===t?0:t;this.setActive(o)},emitClose:function(){this.getPropOrData("asyncClose")?this.promiseCallback("cancel"):(this.$emit("close"),this.innerShow=!1,this.promiseCallback("confirm"))},onClose:function(){this.emitClose()},onClickOverlay:function(){this.onClose()},onClickSwiperItem:function(){this.onClose()},setActive:function(e){e!==this.active&&(this.active=e,this.$emit("change",e))}}}},2511:function(e,t,o){"use strict";function n(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"setData";if(!e)return Promise.reject("Not Found Dialog");var n=e.$vm&&e.$vm[o]||e[o];return"function"===typeof n?n(t):Promise.reject("Not Found setData function")}function i(e){for(var t=e.$vm||e,o=arguments.length,n=new Array(o>1?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];"function"===typeof t.$set?t.$set.apply(t,[t].concat(n)):t[n[0]]=n[1]}function a(e){var t;if(e)return t=e,t}o("dcd5"),Object.defineProperty(t,"__esModule",{value:!0}),t.getVMInVue3=a,t.setData=n,t.vmSet=i,o("2f34"),o("7e35")},"34cd":function(e,t,o){"use strict";var n;o.d(t,"b",(function(){return i})),o.d(t,"c",(function(){return a})),o.d(t,"a",(function(){return n}));var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("PressOverlay",{attrs:{show:e.innerShow,"custom-style":"background: rgba(0, 0, 0, 0.9);z-index: "+e.getPropOrData("zIndex")+";"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClickOverlay.apply(void 0,arguments)}}},[o("div",{staticClass:"press-image-preview",class:[e.getPropOrData("customClass")],style:e.imagePreviewStyle},[e.getPropOrData("showIndex")?o("div",{staticClass:"press-image-preview__index"},[e._v(e._s(e.active+1)+"/"+e._s(e.getPropOrData("images").length))]):e._e(),o("div",{class:["press-image-preview__close-icon","press-image-preview__close-icon--"+e.getPropOrData("closeIconPosition")],on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.onClose.apply(void 0,arguments)}}},[e.getPropOrData("closeable")?o("PressIconPlus",{attrs:{name:e.getPropOrData("closeIcon")}}):e._e()],1),o("v-uni-swiper",{staticClass:"press-image-preview__swipe",attrs:{current:e.active},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.onChange.apply(void 0,arguments)}}},e._l(e.getPropOrData("images"),(function(t,n){return o("v-uni-swiper-item",{key:n,staticClass:"press-image-preview__swipe-item",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClickSwiperItem.apply(void 0,arguments)}}},[o("div",{staticClass:"press-image-preview__image-wrap"},[o("img",{staticClass:"press-image-preview__image",attrs:{src:t,fit:"contain"}})])])})),1),o("div")],1)])},a=[]},"41ad":function(e,t,o){"use strict";o("dcd5");var n=o("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(o("8e5b")),a=o("805d"),s=n(o("cfee")),r={IMAGE_PREVIEW:"press-image-preview"};t.default={i18n:{"zh-CN":{previewImage:"预览图片",customType:"传入配置",startPosition:"指定初始位置",showCloseIcon:"展示关闭按钮",watchCloseEvent:"监听关闭事件",asyncClose:"异步关闭",componentUse:"组件调用",closeTip:"关闭"},"en-US":{previewImage:"Preview Image",customType:"Custom Config",startPosition:"Set Start Position",showCloseIcon:"Show Close Icon",watchCloseEvent:"Watch Close Event",asyncClose:"Async Close",componentUse:"Component Use",closeTip:"Close"}},components:{ImagePreviewComp:s.default,PressCell:i.default},data:function(){var e="";return{show:!1,customStyle:e,images:["https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2023/5/own_mike_9f901ce42e18990883.jpeg","https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2023/5/own_mike_8f25b9e2e75f6754ad.jpeg","https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2023/5/own_mike_260c4142c7225b5f73.jpeg"],FUNCTIONAL_ID_MAP:r}},mounted:function(){},methods:{onShowImagePreview:function(){(0,a.showImagePreview)({context:this,selector:"#".concat(r.IMAGE_PREVIEW),images:this.images,customStyle:this.customStyle}).then((function(){}))},onShowComponent:function(){this.show=!0},onShowCustomType:function(e){var t=this,o=void 0,n=void 0,i=void 0;"startPosition"===e?o=1:"showCloseIcon"===e?n=!0:"asyncClose"===e&&(i=!0),(0,a.showImagePreview)({context:this,selector:"#".concat(r.IMAGE_PREVIEW),images:this.images,customStyle:this.customStyle,startPosition:o,closeable:n,asyncClose:i}).then((function(){"watchCloseEvent"===e&&t.onGTip(t.t("closeTip"))})).catch((function(e){var t=e.context;i&&setTimeout((function(){t.closeDialog()}),2e3)}))}}}},"57f4":function(e,t,o){var n=o("d8b3");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=o("5a15").default;i("1c30425a",n,!0,{sourceMap:!1,shadowMode:!1})},"7b41":function(e,t,o){"use strict";o.r(t);var n=o("00d9"),i=o.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){o.d(t,e,(function(){return n[e]}))}(a);t["default"]=i.a},"805d":function(e,t,o){"use strict";o("dcd5");var n=o("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.imagePreview=l,t.showImagePreview=t.imagePreviewHandler=void 0;var i=n(o("6d7c")),a=o("8eb5"),s=o("c091"),r=n(o("cfee")),c="pressImagePreview";function l(e){var t;return e.selector||(t=(0,a.initH5Instance)(r.default,c),t.mode="functional"),(0,s.showFunctionalComponent)((0,i.default)((0,i.default)({},e),{},{dialog:t,show:!0,showFunction:"showImagePreview"}))}t.imagePreviewHandler=l,t.showImagePreview=l},"9ad6":function(e,t,o){"use strict";o.r(t);var n=o("41ad"),i=o.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){o.d(t,e,(function(){return n[e]}))}(a);t["default"]=i.a},b463:function(e,t,o){"use strict";o("dcd5"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=a,o("4f99"),o("ab2f"),o("d21d"),o("3fc3"),o("3ff3"),o("7e35"),o("6d5e"),o("0d3d");var n=i(o("bba8"));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var o="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=(0,n.default)(e))||t&&e&&"number"===typeof e.length){o&&(e=o);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,r=!0,c=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return r=e.done,e},e:function(e){c=!0,s=e},f:function(){try{r||null==o["return"]||o["return"]()}finally{if(c)throw s}}}}},c091:function(e,t,o){"use strict";o("dcd5");var n=o("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.selectComponent=d,t.showFunctionalComponent=f,o("767c"),o("7e35"),o("1dba"),o("d735"),o("3d44");var i=n(o("6d7c")),a=n(o("b463")),s=o("2511"),r=o("12ef"),c="showDialog";function l(){var e=getCurrentPages();return e[e.length-1]}function u(e,t,o){var n=e.$children;if(n){var i,s=(0,a.default)(n);try{for(s.s();!(i=s.n()).done;){var r=i.value;if(r.$attrs[t]===o)return r}}catch(p){s.e(p)}finally{s.f()}var c,l=(0,a.default)(n);try{for(l.s();!(c=l.n()).done;){var d=c.value,f=u(d,t,o);if(f)return f}}catch(p){l.e(p)}finally{l.f()}}}function d(e,t){if(t&&e){if("function"===typeof t)return t(e);var o=t;if(o.match(/^[^\w]/)&&(o=o.slice(1)),e.$refs&&e.$refs[o])return e.$refs[o];if((0,r.isNotInUni)()){var n=t.startsWith("#")?"id":"class",i=u(e,n,o);if(i)return i}if(e&&"function"===typeof e.$selectComponent){var a=e.$selectComponent(t);return a}return e&&e.selectComponent&&e.selectComponent(t)}}function f(e){return new Promise((function(t,o){var n=e.context||l(),a=e.dialog;a||(a=d(n,e.selector));var r=(0,i.default)({callback:function(e,n){"confirm"===e?t(n):o(n)}},e);delete r.dialog,delete r.context;var u=e.showFunction||c;(0,s.setData)(a,r,u)}))}},cfee:function(e,t,o){"use strict";o.r(t);var n=o("34cd"),i=o("7b41");for(var a in i)["default"].indexOf(a)<0&&function(e){o.d(t,e,(function(){return i[e]}))}(a);o("eeeb");var s,r=o("921e"),c=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"ec8d53ae",null,!1,n["a"],s);t["default"]=c.exports},d102:function(e,t,o){"use strict";o.r(t);var n=o("fc7c8"),i=o("9ad6");for(var a in i)["default"].indexOf(a)<0&&function(e){o.d(t,e,(function(){return i[e]}))}(a);var s,r=o("921e"),c=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"2c7e169c",null,!1,n["a"],s);t["default"]=c.exports},d8b3:function(e,t,o){var n=o("a8d8");t=n(!1),t.push([e.i,".press-image-preview[data-v-ec8d53ae]{position:fixed;bottom:0;left:0;width:100%;height:calc(100% - var(--window-top, 0px));z-index:2}.press-image-preview__swipe[data-v-ec8d53ae]{height:100%}.press-image-preview__cover[data-v-ec8d53ae]{position:absolute;top:0;left:0}.press-image-preview__image-wrap[data-v-ec8d53ae]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;overflow:hidden}.press-image-preview__image[data-v-ec8d53ae]{width:100%;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform}.press-image-preview__image--vertical[data-v-ec8d53ae]{width:auto;height:100%}.press-image-preview__image img[data-v-ec8d53ae]{-webkit-user-drag:none}.press-image-preview__image .press-image__error[data-v-ec8d53ae]{top:30%;height:40%}.press-image-preview__image .press-image__error-icon[data-v-ec8d53ae]{font-size:36px}.press-image-preview__image .press-image__loading[data-v-ec8d53ae]{background-color:transparent}.press-image-preview__index[data-v-ec8d53ae]{position:absolute;top:16px;left:50%;color:#fff;font-size:14px;line-height:20px;text-shadow:0 1px 1px #323233;-webkit-transform:translate(-50%);transform:translate(-50%)}[data-v-ec8d53ae] .press-image-preview__overlay{background-color:rgba(0,0,0,.9)}.press-image-preview__close-icon[data-v-ec8d53ae]{position:absolute;z-index:1;color:#c8c9cc;font-size:22px;cursor:pointer}.press-image-preview__close-icon[data-v-ec8d53ae]:active{color:#969799}.press-image-preview__close-icon--top-left[data-v-ec8d53ae]{top:16px;left:16px}.press-image-preview__close-icon--top-right[data-v-ec8d53ae]{top:16px;right:16px}.press-image-preview__close-icon--bottom-left[data-v-ec8d53ae]{bottom:16px;left:16px}.press-image-preview__close-icon--bottom-right[data-v-ec8d53ae]{right:16px;bottom:16px}",""]),e.exports=t},eeeb:function(e,t,o){"use strict";var n=o("57f4"),i=o.n(n);i.a},fc7c8:function(e,t,o){"use strict";var n;o.d(t,"b",(function(){return i})),o.d(t,"c",(function(){return a})),o.d(t,"a",(function(){return n}));var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"demo-wrap"},[o("demo-block",{attrs:{title:e.t("basicUsage")}},[o("PressCell",{attrs:{title:e.t("previewImage"),"is-link":!0},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onShowImagePreview.apply(void 0,arguments)}}})],1),o("demo-block",{attrs:{title:e.t("customType")}},[o("PressCell",{attrs:{title:e.t("startPosition"),"is-link":!0},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onShowCustomType("startPosition")}}}),o("PressCell",{attrs:{title:e.t("showCloseIcon"),"is-link":!0},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onShowCustomType("showCloseIcon")}}}),o("PressCell",{attrs:{title:e.t("watchCloseEvent"),"is-link":!0},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onShowCustomType("watchCloseEvent")}}})],1),o("demo-block",{attrs:{title:e.t("asyncClose")}},[o("PressCell",{attrs:{title:e.t("asyncClose"),"is-link":!0},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onShowCustomType("asyncClose")}}})],1),o("demo-block",{attrs:{title:e.t("componentUse")}},[o("PressCell",{attrs:{title:e.t("componentUse"),"is-link":!0},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onShowComponent.apply(void 0,arguments)}}})],1),o("ImagePreviewComp",{attrs:{show:e.show,closeable:!0,"start-position":1,images:e.images,"custom-style":e.customStyle},on:{close:function(t){arguments[0]=t=e.$handleEvent(t),e.show=!1}}}),o("ImagePreviewComp",{ref:e.FUNCTIONAL_ID_MAP.IMAGE_PREVIEW,attrs:{id:e.FUNCTIONAL_ID_MAP.IMAGE_PREVIEW,mode:"functional"}})],1)},a=[]}}]);