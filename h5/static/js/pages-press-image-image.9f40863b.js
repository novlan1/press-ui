(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-press-image-image"],{"00d9":function(e,t,a){"use strict";a("467a");var i=a("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(a("6d7c"));a("592d");var n=a("b47f"),r=a("5e91"),o=a("4be0"),c=a("8d6b"),l=i(a("dbac")),d=i(a("6ec5")),u={images:{type:Array,default:function(){return[]}},startPosition:{type:[Number,String],default:0},transition:{type:String,default:"press-fade"},showIndex:{type:Boolean,default:!0},asyncClose:{type:Boolean,default:!1},customStyle:{type:[String,Object],default:""},customClass:{type:String,default:""},closeable:{type:Boolean,default:!1},closeIcon:{type:String,default:"clear"},closeIconPosition:{type:String,default:"top-right"},zIndex:{type:Number,default:10}};t.default={name:"PressImagePreview",components:{PressOverlay:d.default,PressIcon:l.default},mixins:[(0,o.functionalMixin)(u),c.SwiperPureMixin],props:(0,s.default)({},u),emits:["close","change"],data:function(){return{active:0}},computed:{imagePreviewStyle:function(){return(0,n.style)(this.getPropOrData("customStyle"))}},watch:{startPosition:"setActive",show:function(e){e?(this.setActive(+this.getPropOrData("startPosition")),(0,r.nextTick)((function(){}))):this.$emit("close",{index:this.active,url:this.getPropOrData("images")[this.active]})}},mounted:function(){},methods:{showImagePreview:function(e){this.showDialog(e),this.setActive(e.startPosition||0)},onClosed:function(){},onChange:function(e){var t=e.detail.current,a=void 0===t?0:t;this.setActive(a)},emitClose:function(){this.getPropOrData("asyncClose")?this.promiseCallback("cancel"):(this.$emit("close"),this.innerShow=!1,this.promiseCallback("confirm"))},onClose:function(){this.emitClose()},onClickOverlay:function(){this.onClose()},onClickSwiperItem:function(){this.onClose()},setActive:function(e){e!==this.active&&(this.active=e,this.$emit("change",e))}}}},1361:function(e,t,a){"use strict";var i=a("a6ed"),s=a.n(i);s.a},2511:function(e,t,a){"use strict";function i(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"setData";if(!e)return Promise.reject("Not Found Dialog");var i=e.$vm&&e.$vm[a]||e[a];return"function"===typeof i?i(t):Promise.reject("Not Found setData function")}function s(e){for(var t=e.$vm||e,a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];"function"===typeof t.$set?t.$set.apply(t,[t].concat(i)):t[i[0]]=i[1]}function n(e){var t;if(e)return t=e,t}a("467a"),Object.defineProperty(t,"__esModule",{value:!0}),t.getVMInVue3=n,t.setData=i,t.vmSet=s,a("80ea"),a("5488")},"2bd7":function(e,t,a){"use strict";var i;a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return i}));var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"demo-wrap"},[a("demo-block",{attrs:{title:e.t("basicUsage")}},[a("PressImage",{attrs:{"show-loading":!0,src:e.src,width:"100",height:"100"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.click.apply(void 0,arguments)}}})],1),a("demo-block",{attrs:{title:e.t("mode")}},e._l(e.MODE_LIST,(function(t,i){return a("PressRow",{key:e.getIndex(i,"row")},e._l(t,(function(t,i){return a("PressCol",{key:e.getIndex(i,"col"),attrs:{span:t.span}},[a("div",{staticClass:"demo-grid"},[a("PressImage",{attrs:{"show-loading":!0,width:"100",height:"100",src:e.src,mode:t.mode},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.click.apply(void 0,arguments)}}}),a("span",{staticClass:"image-title",class:t.titleClass},[e._v(e._s(t.mode))])],1)])})),1)})),1),a("demo-block",{attrs:{title:e.t("round")}},e._l(e.MODE_LIST,(function(t,i){return a("PressRow",{key:e.getIndex(i,"row")},e._l(t,(function(t,i){return a("PressCol",{key:e.getIndex(i,"col"),attrs:{span:t.span}},[a("div",{staticClass:"demo-grid"},[a("PressImage",{attrs:{"show-loading":!0,width:"100",height:"100",src:e.src,round:!0,mode:t.mode},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.click.apply(void 0,arguments)}}}),a("span",{staticClass:"image-title",class:t.titleClass},[e._v(e._s(t.mode))])],1)])})),1)})),1),a("demo-block",{attrs:{title:e.t("loading")}},[a("PressRow",[a("PressCol",{attrs:{span:8}},[a("div",{staticClass:"demo-grid"},[a("PressImage",{attrs:{"show-loading":!0,width:"100",height:"100"}}),a("span",{staticClass:"image-title"},[e._v(e._s(e.t("defaultTip")))])],1)]),a("PressCol",{attrs:{span:8}},[a("div",{staticClass:"demo-grid"},[a("PressImage",{attrs:{"show-loading":!0,width:"100",height:"100"},scopedSlots:e._u([{key:"loading",fn:function(){return[a("PressLoading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0}])}),a("span",{staticClass:"image-title"},[e._v(e._s(e.t("customTip")))])],1)])],1)],1),a("demo-block",{attrs:{title:e.t("error")}},[a("PressRow",[a("PressCol",{attrs:{span:8}},[a("div",{staticClass:"demo-grid"},[a("PressImage",{attrs:{"show-loading":!0,src:"src",width:"100px",height:"100px"}}),a("span",{staticClass:"image-title"},[e._v(e._s(e.t("defaultTip")))])],1)]),a("PressCol",{attrs:{span:8}},[a("div",{staticClass:"demo-grid"},[a("PressImage",{attrs:{"show-loading":!0,src:"src",width:"100px",height:"100px"},scopedSlots:e._u([{key:"error",fn:function(){return[a("span",{staticStyle:{"font-size":"14px"}},[e._v("加载失败")])]},proxy:!0}])}),a("span",{staticClass:"image-title"},[e._v(e._s(e.t("customTip")))])],1)])],1)],1),a("ImagePreview",{ref:"imagePreviewRef",attrs:{mode:"functional"}})],1)},n=[]},4591:function(e,t,a){"use strict";a.r(t);var i=a("2bd7"),s=a("cdf6");for(var n in s)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(n);a("9075");var r,o=a("921e"),c=Object(o["a"])(s["default"],i["b"],i["c"],!1,null,"e1b1fb50",null,!1,i["a"],r);t["default"]=c.exports},"6dd4":function(e,t,a){var i=a("b048");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("5a15").default;s("fd0a4702",i,!0,{sourceMap:!1,shadowMode:!1})},"7b41":function(e,t,a){"use strict";a.r(t);var i=a("00d9"),s=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(n);t["default"]=s.a},"805d":function(e,t,a){"use strict";a("467a");var i=a("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.imagePreview=l,t.showImagePreview=t.imagePreviewHandler=void 0;var s=i(a("6d7c")),n=a("8eb5"),r=a("c091"),o=i(a("cfee")),c="pressImagePreview";function l(e){var t;return e.selector||(t=(0,n.initH5Instance)(o.default,c),t.mode="functional"),(0,r.showFunctionalComponent)((0,s.default)((0,s.default)({},e),{},{dialog:t,show:!0,showFunction:"showImagePreview"}))}t.imagePreviewHandler=l,t.showImagePreview=l},9075:function(e,t,a){"use strict";var i=a("6dd4"),s=a.n(i);s.a},"98c1":function(e,t,a){var i=a("a8d8");t=i(!1),t.push([e.i,".press-image-preview[data-v-861c2bd4]{position:fixed;bottom:0;left:0;width:100%;height:calc(100% - var(--window-top, 0px));z-index:2}.press-image-preview__swipe[data-v-861c2bd4]{height:100%}.press-image-preview__cover[data-v-861c2bd4]{position:absolute;top:0;left:0}.press-image-preview__image-wrap[data-v-861c2bd4]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;overflow:hidden}.press-image-preview__image[data-v-861c2bd4]{width:100%;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform}.press-image-preview__image--vertical[data-v-861c2bd4]{width:auto;height:100%}.press-image-preview__image img[data-v-861c2bd4]{-webkit-user-drag:none}.press-image-preview__image .press-image__error[data-v-861c2bd4]{top:30%;height:40%}.press-image-preview__image .press-image__error-icon[data-v-861c2bd4]{font-size:36px}.press-image-preview__image .press-image__loading[data-v-861c2bd4]{background-color:transparent}.press-image-preview__index[data-v-861c2bd4]{position:absolute;top:16px;left:50%;color:#fff;font-size:14px;line-height:20px;text-shadow:0 1px 1px #323233;-webkit-transform:translate(-50%);transform:translate(-50%)}[data-v-861c2bd4] .press-image-preview__overlay{background-color:rgba(0,0,0,.9)}.press-image-preview__close-icon[data-v-861c2bd4]{position:absolute;z-index:1;color:#c8c9cc;font-size:22px;cursor:pointer}.press-image-preview__close-icon[data-v-861c2bd4]:active{color:#969799}.press-image-preview__close-icon--top-left[data-v-861c2bd4]{top:16px;left:16px}.press-image-preview__close-icon--top-right[data-v-861c2bd4]{top:16px;right:16px}.press-image-preview__close-icon--bottom-left[data-v-861c2bd4]{bottom:16px;left:16px}.press-image-preview__close-icon--bottom-right[data-v-861c2bd4]{right:16px;bottom:16px}",""]),e.exports=t},a6ed:function(e,t,a){var i=a("98c1");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("5a15").default;s("a2d5c054",i,!0,{sourceMap:!1,shadowMode:!1})},ab4c:function(e,t,a){"use strict";var i;a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return i}));var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("PressOverlay",{attrs:{show:e.innerShow,"custom-style":"background: rgba(0, 0, 0, 0.9);z-index: "+e.getPropOrData("zIndex")+";"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClickOverlay.apply(void 0,arguments)}}},[a("div",{staticClass:"press-image-preview",class:[e.getPropOrData("customClass")],style:e.imagePreviewStyle},[e.getPropOrData("showIndex")?a("div",{staticClass:"press-image-preview__index"},[e._v(e._s(e.active+1)+"/"+e._s(e.getPropOrData("images").length))]):e._e(),a("div",{class:["press-image-preview__close-icon","press-image-preview__close-icon--"+e.getPropOrData("closeIconPosition")],on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.onClose.apply(void 0,arguments)}}},[e.getPropOrData("closeable")?a("PressIcon",{attrs:{name:e.getPropOrData("closeIcon")}}):e._e()],1),a("v-uni-swiper",{staticClass:"press-image-preview__swipe",attrs:{current:e.active},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.onChange.apply(void 0,arguments)}}},e._l(e.getPropOrData("images"),(function(t,i){return a("v-uni-swiper-item",{key:i,staticClass:"press-image-preview__swipe-item",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClickSwiperItem.apply(void 0,arguments)}}},[a("div",{staticClass:"press-image-preview__image-wrap"},[a("img",{staticClass:"press-image-preview__image",attrs:{src:t,fit:"contain"}})])])})),1),a("div")],1)])},n=[]},b048:function(e,t,a){var i=a("a8d8");t=i(!1),t.push([e.i,".demo-grid[data-v-e1b1fb50]{display:flex;flex-direction:column;justify-content:center}.image-title[data-v-e1b1fb50]{text-align:center;width:100px;margin-top:16px;color:#646566;margin-bottom:10px}.image-title--long[data-v-e1b1fb50]{width:132px}.image-title--gap[data-v-e1b1fb50]{margin-bottom:32px}",""]),e.exports=t},c091:function(e,t,a){"use strict";a("467a");var i=a("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.selectComponent=u,t.showFunctionalComponent=p,a("4c77"),a("5488"),a("c41e"),a("a633"),a("ae99");var s=i(a("6d7c")),n=i(a("b463")),r=a("2511"),o=a("12ef"),c="showDialog";function l(){var e=getCurrentPages();return e[e.length-1]}function d(e,t,a){var i=e.$children;if(i){var s,r=(0,n.default)(i);try{for(r.s();!(s=r.n()).done;){var o=s.value;if(o.$attrs[t]===a)return o}}catch(f){r.e(f)}finally{r.f()}var c,l=(0,n.default)(i);try{for(l.s();!(c=l.n()).done;){var u=c.value,p=d(u,t,a);if(p)return p}}catch(f){l.e(f)}finally{l.f()}}}function u(e,t){if(t&&e){if("function"===typeof t)return t(e);var a=t;if(a.match(/^[^\w]/)&&(a=a.slice(1)),e.$refs&&e.$refs[a])return e.$refs[a];if((0,o.isNotInUni)()){var i=t.startsWith("#")?"id":"class",s=d(e,i,a);if(s)return s}if(e&&"function"===typeof e.$selectComponent){var n=e.$selectComponent(t);return n}return e&&e.selectComponent&&e.selectComponent(t)}}function p(e){return new Promise((function(t,a){var i=e.context||l(),n=e.dialog;n||(n=u(i,e.selector));var o=(0,s.default)({callback:function(e,i){"confirm"===e?t(i):a(i)}},e);delete o.dialog,delete o.context;var d=e.showFunction||c;(0,r.setData)(n,o,d)}))}},cdf6:function(e,t,a){"use strict";a.r(t);var i=a("ee7c"),s=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(n);t["default"]=s.a},cfee:function(e,t,a){"use strict";a.r(t);var i=a("ab4c"),s=a("7b41");for(var n in s)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(n);a("1361");var r,o=a("921e"),c=Object(o["a"])(s["default"],i["b"],i["c"],!1,null,"861c2bd4",null,!1,i["a"],r);t["default"]=c.exports},ee7c:function(e,t,a){"use strict";(function(e){a("467a");var i=a("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("80ea");var s=i(a("fcb1")),n=a("805d"),r=i(a("cfee")),o=i(a("1512")),c=i(a("b802")),l=i(a("e844")),d=[[{mode:"aspectFit",titleClass:"image-title--gap",span:8},{mode:"aspectFill",titleClass:"image-title--gap",span:8},{mode:"center",titleClass:"",span:8}],[{mode:"widthFix",titleClass:"image-title--gap",span:8},{mode:"heightFix",titleClass:"image-title--long",span:16}]];t.default={i18n:{"zh-CN":{error:"加载失败提示",loading:"加载中提示",defaultTip:"默认提示",customTip:"自定义提示",mode:"模式",round:"圆形"},"en-US":{error:"Error",loading:"Loading",defaultTip:"Default",customTip:"Custom",mode:"Mode",round:"Round"}},components:{PressCol:s.default,PressRow:l.default,PressImage:o.default,PressLoading:c.default,ImagePreview:r.default},data:function(){return{src:"https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2023/10/own_mike_a17f94292a34e9f644.jpeg",MODE_LIST:d}},methods:{click:function(){e.log("[click]"),(0,n.imagePreviewHandler)({selector:"#imagePreviewRef",images:[this.src]}).then((function(){}))},getIndex:function(e,t){return"".concat(e,"-").concat(t)}}}}).call(this,a("44fd")["default"])}}]);