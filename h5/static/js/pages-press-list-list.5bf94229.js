(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-press-list-list"],{"1c2f":function(e,t,i){"use strict";var l;i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return l}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"demo-wrap demo-wrap--gray demo-wrap--flex",class:e.listLocal.vertical?"":"demo-wrap--hor"},[i("demo-block",{attrs:{title:e.t("basicUsage"),"section-style":e.sectionStyle,"header-style":e.headerStyle}},[i("press-cell",{attrs:{title:e.t("custom"),"is-link":!0},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onShowBasicPopupCell.apply(void 0,arguments)}}})],1),i("div",{staticClass:"demo-container"},[i("PressList",{attrs:{finished:e.finished,"immediate-check":e.immediateCheck,vertical:e.listLocal.vertical,"finished-text":"没有更多了","auto-check-scroller":e.listLocal.autoCheckScroller,"custom-style":e.listStyle},on:{load:function(t){arguments[0]=t=e.$handleEvent(t),e.load.apply(void 0,arguments)},scroll:function(t){arguments[0]=t=e.$handleEvent(t),e.scroll.apply(void 0,arguments)}},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[i("div",{staticClass:"list__wrap",style:e.wrapStyle},[i("div",{style:e.hiddenUpPartStyle}),e._l(e.showingData,(function(t){return i("div",{key:t.value,staticClass:"list__item"},[e._v(e._s(t.label))])}))],2)])],1),i("PressPopupCell",{ref:e.FUNCTIONAL_ID_MAP.POPUP_CELL,attrs:{id:e.FUNCTIONAL_ID_MAP.POPUP_CELL,mode:"functional"}}),i("PressPicker",{ref:e.FUNCTIONAL_ID_MAP.PICKER,attrs:{id:e.FUNCTIONAL_ID_MAP.PICKER,mode:"functional"}})],1)},a=[]},"1fe8":function(e,t,i){"use strict";i("13a4");var l=i("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("29c8"),i("27ff"),i("11e9"),i("478d");var n=l(i("6d7c")),a=i("9466"),o=l(i("f42f")),c=i("dc16"),r=i("e8b6"),s=i("8598"),u=i("e293"),d=i("5e91"),f=i("c5c5"),h=i("78b2"),p=(0,r.getScrollSelector)(s.SCROLL_VIEW_ID);t.default={name:"PressList",options:(0,n.default)({},a.defaultOptions),components:{PressLoadingPlus:o.default},mixins:[u.vModelMixin,(0,f.BindEventMixin)((function(e){this.autoCheckScroller&&(this.scroller||(this.scroller=(0,r.getScroller)(this.$el)),e(this.scroller,"scroll",this.onScroll,!0),e(this.scroller,"touchmove",this.onScroll,!0),this.onScroll())})),h.ScrollViewPureMixin],props:(0,n.default)((0,n.default)({offset:{type:[Number,String],default:50},finished:{type:Boolean,default:!1},finishedText:{type:String,default:""},loadingText:{type:String,default:"加载中..."},immediateCheck:{type:Boolean,default:!0},enableFlex:{type:Boolean,default:!1},enhanced:{type:Boolean,default:!1},scrollWithAnimation:{type:Boolean,default:!1},enablePassive:{type:Boolean,default:!1},scrollAnchoring:{type:Boolean,default:!1},scrollToElementById:{type:String,default:""},vertical:{type:Boolean,default:!0},loadingStyle:{type:String,default:""},loadingSize:{type:String,default:"20px"},finishedStyle:{type:String,default:""},autoCheckScroller:{type:Boolean,default:!1},scrollLeft:{type:[Number,String],default:0},scrollTop:{type:[Number,String],default:0}},a.defaultProps),{},{customStyle:{type:String,default:""}}),emits:["scroll","input","load","update:modelValue"],data:function(){return{innerLoading:this.realModelValue,SCROLL_VIEW_ID:s.SCROLL_VIEW_ID,scrollerHeight:0}},computed:{scrollViewClass:function(){return["press-list",this.vertical?"press-list--vertical":"press-list--hor",this.customClass].join(" ")},scrollViewStyle:function(){return"height: 100%; ".concat(this.customStyle,";")}},watch:{realModelValue:{handler:function(e){this.innerLoading=e,this.check()}},finished:"check"},mounted:function(){this.immediateCheck&&this.check()},updated:function(){},methods:{getScrollerHeight:function(){var e=this;this.scrollerHeight||(0,c.getRect)(this,p).then((function(t){e.scrollerHeight=t.height}))},scroll:function(e){this.getScrollerHeight(),this.$emit("scroll",e,this.scrollerHeight),this.check()},scrollToLower:function(){this.emitInput()},emitInput:function(){this.innerLoading||this.finished||(this.innerLoading=!0,this.emitModelValue(!0),this.$emit("load"))},check:function(){var e=this;(0,d.nextTick)((function(){e.innerCheck()}))},innerCheck:function(){this.autoCheckScroller||this.commonCheck()},commonCheck:function(e){var t=this,i=this.offset;this.innerLoading||this.finished||Promise.all([(0,c.getRect)(this,".press-list__placeholder"),(0,c.getRect)(this,p)]).then((function(l){var n=l[0],a=l[1];if(void 0===e&&(e=a),!t.innerLoading&&!t.finished){var o=e.bottom-e.top;if(o){var c=n.bottom-e.bottom;t.vertical||(c=n.right-e.right);var r=c<=i;r&&t.emitInput()}}})).catch((function(){})).finally((function(){}))},onScroll:function(){var e,t=this.scroller,i=this.autoCheckScroller;i&&(null!==t&&void 0!==t&&t.getBoundingClientRect&&(e=t.getBoundingClientRect()),this.commonCheck(e))}}}},"22e2":function(e,t,i){var l=i("a8d8");t=l(!1),t.push([e.i,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.press-list--hor[data-v-f3a00214]  .press-list__layout{height:100%;display:flex}.press-list--hor .press-list__loading[data-v-f3a00214],\n.press-list--hor .press-list__finished[data-v-f3a00214]{min-width:100px;height:100%}.press-list__loading[data-v-f3a00214],\n.press-list__finished[data-v-f3a00214]{width:100%;height:50px;display:flex;align-items:center;justify-content:center;color:#969799;font-size:14px}.press-list__placeholder[data-v-f3a00214]{height:0;pointer-events:none}',""]),e.exports=t},"430b":function(e,t,i){"use strict";var l;i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return l}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-scroll-view",{class:e.scrollViewClass,style:e.scrollViewStyle,attrs:{id:e.SCROLL_VIEW_ID,"scroll-y":e.vertical,"scroll-x":!e.vertical,"scroll-with-animation":e.scrollWithAnimation,"scroll-anchoring":e.scrollAnchoring,enhanced:e.enhanced,"enable-flex":e.enableFlex,"enable-passive":e.enablePassive,"lower-threshold":e.offset,"scroll-into-view":e.scrollToElementById,"scroll-top":e.scrollTop,"scroll-left":e.scrollLeft},on:{scrolltolower:function(t){arguments[0]=t=e.$handleEvent(t),e.scrollToLower.apply(void 0,arguments)},scroll:function(t){arguments[0]=t=e.$handleEvent(t),e.scroll.apply(void 0,arguments)}}},[i("div",{staticClass:"press-list__layout"},[e._t("default"),e.innerLoading?e._t("loading",[i("div",{staticClass:"press-list__loading",style:e.loadingStyle},[i("PressLoadingPlus",{attrs:{vertical:!e.vertical,size:e.loadingSize}},[e._v(e._s(e.loadingText))])],1)]):e._e(),e.finishedText&&e.finished?e._t("finished",[i("div",{staticClass:"press-list__finished",style:e.finishedStyle},[i("div",[e._v(e._s(e.finishedText))])])]):e._e(),i("div",{staticClass:"press-list__placeholder"})],2)])},a=[]},5188:function(e,t,i){"use strict";i("13a4"),Object.defineProperty(t,"__esModule",{value:!0}),t.local=void 0,t.showCustomPopup=s,i("d5ac"),i("de50"),i("cae4"),i("a27b"),i("27ff"),i("11e9");var l=i("8036"),n=t.local={pageSize:20,total:300,delay:200,vertical:!0,autoCheckScroller:!0},a=Array.from({length:5}).map((function(e,t){return Math.pow(10,t)})).reduce((function(e,t){for(var i=1;i<10;i++)e.push(t*i);return e}),[]).map((function(e){return{label:e,value:e}})),o=a.reduce((function(e,t){return e[t.value]=t.label,e}),{}),c=Array.from({length:1e3}).map((function(e,t){return{label:"".concat(100*(t+1),"ms"),value:100*(t+1)}})),r=c.reduce((function(e,t){return e[t.value]=t.label,e}),{});function s(e){var t=e.context,i=e.callback;(0,l.showPopupCellAndClose)({context:t,title:"自定义设置",closeIcon:!0,cellList:[{label:"每次加载数量",value:o[n.pageSize],click:function(e){var o=e.context;o.closeDialog(),(0,l.showPicker)({title:"每次加载数量",closeIcon:!0,list:a,current:{value:n.pageSize},context:t}).then((function(e){var l=e.item;n.pageSize=l.value,t.onGTip("设置成功"),"function"===typeof i.changePageSize&&i.changePageSize.call(t,l.value)})).catch((function(){}))}},{label:"列表总数",value:o[n.total],click:function(e){var o=e.context;o.closeDialog(),(0,l.showPicker)({title:"列表总数",closeIcon:!0,list:a,current:{value:n.total},context:t}).then((function(e){var l=e.item;n.total=l.value,t.onGTip("设置成功"),"function"===typeof i.changeTotal&&i.changeTotal.call(t,l.value)})).catch((function(){}))}},{label:"数据请求时间",value:r[n.delay],click:function(e){var a=e.context;a.closeDialog(),(0,l.showPicker)({title:"数据请求时间",closeIcon:!0,list:c,current:{value:n.delay},context:t}).then((function(e){var l=e.item;n.delay=l.value,t.onGTip("设置成功"),"function"===typeof i.changeDelay&&i.changeDelay.call(t,l.value)})).catch((function(){}))}},{label:"是否竖向滚动",type:"switch",open:n.vertical,click:function(e){var l=e.context;l.closeDialog(),n.vertical=!n.vertical,t.onGTip("设置成功"),"function"===typeof i.changeDirection&&i.changeDirection.call(t,n.vertical)}},{label:"自动检测 Scroller",type:"switch",open:n.autoCheckScroller,click:function(e){var l=e.context;l.closeDialog(),n.autoCheckScroller=!n.autoCheckScroller,"function"===typeof i.changeAutoCheckScroller&&i.changeAutoCheckScroller.call(t,n.autoCheckScroller)}}]})}},"57cd":function(e,t,i){"use strict";(function(e){i("13a4");var l=i("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(i("ef56")),a=l(i("6d7c"));i("dafa"),i("d5ac"),i("de50"),i("38ea"),i("27ff"),i("11e9");var o=l(i("cd76")),c=l(i("9d1c")),r=l(i("2c05")),s=l(i("8e5b")),u=i("8036"),d=i("5188"),f=i("ab14");function h(e){var t=e.length,i=e.delay,l=e.beforeLength;return new Promise((function(e){setTimeout((function(){e({data:Array.from({length:t}).map((function(e,t){var i=t+l+1;return i<10&&(i="0".concat(i)),{label:i,value:i}}))})}),i||0)}))}t.default={i18n:{"zh-CN":{custom:"自定义"},"en-US":{custom:"Custom"}},components:{PressList:o.default,PressPopupCell:c.default,PressPicker:r.default,PressCell:s.default},mixins:[(0,f.virtualListMixin)()],data:function(){var e=(0,a.default)({},d.local),t="";return{sectionStyle:"margin: 0;background: #f7f8fa;",headerStyle:"background: #f7f8fa;",loading:!1,finished:!1,immediateCheck:!0,list:[],FUNCTIONAL_ID_MAP:u.FUNCTIONAL_ID_MAP,listLocal:e,listStyle:t}},computed:{},watch:{listLocal:{handler:function(e){e.vertical||(this.useVirtualList=!1)},deep:!0}},mounted:function(){},methods:{load:function(){e.log("[load]"),this.onFetchData()},scroll:function(e,t){this.updateCurrentIndex(e,t)},onFetchData:function(t){var i,l=this,a=this.listLocal,o=a.total,c=a.pageSize,r=a.delay;h({delay:r,length:c,beforeLength:t?0:(null===(i=this.list)||void 0===i?void 0:i.length)||0}).then((function(i){var a=i.data,c=t?a:[].concat((0,n.default)(l.list),(0,n.default)(a));c.length>o&&(c=c.slice(0,o)),l.list=c,e.log("[current total]",c.length),l.loading=!1,l.finished=l.list.length>=o})).catch((function(){}))},onShowBasicPopupCell:function(){(0,d.showCustomPopup)({context:this,callback:{changeTotal:this.changeTotal,changePageSize:this.changePageSize,changeDelay:this.changeDelay,changeDirection:this.changeDirection,changeAutoCheckScroller:this.changeAutoCheckScroller}})},changePageSize:function(e){this.listLocal=(0,a.default)((0,a.default)({},this.listLocal),{},{pageSize:e}),this.generateData()},changeTotal:function(e){this.listLocal=(0,a.default)((0,a.default)({},this.listLocal),{},{total:e}),this.generateData()},changeDelay:function(e){this.listLocal=(0,a.default)((0,a.default)({},this.listLocal),{},{delay:e}),this.generateData()},changeDirection:function(e){this.listLocal=(0,a.default)((0,a.default)({},this.listLocal),{},{vertical:e}),this.generateData()},changeAutoCheckScroller:function(e){this.listLocal=(0,a.default)((0,a.default)({},this.listLocal),{},{autoCheckScroller:e}),this.list=[],this.generateData()},generateData:function(){this.loading=!0,this.onFetchData(!0)}}}}).call(this,i("44fd")["default"])},8204:function(e,t,i){"use strict";i.r(t);var l=i("57cd"),n=i.n(l);for(var a in l)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return l[e]}))}(a);t["default"]=n.a},8598:function(e,t,i){"use strict";i("13a4"),Object.defineProperty(t,"__esModule",{value:!0}),t.SCROLL_VIEW_ID=void 0;t.SCROLL_VIEW_ID="scrollViewId"},a0a0:function(e,t,i){"use strict";var l=i("fdd6"),n=i.n(l);n.a},a6be:function(e,t,i){"use strict";i.r(t);var l=i("1c2f"),n=i("8204");for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);i("a0a0");var o,c=i("87d0"),r=Object(c["a"])(n["default"],l["b"],l["c"],!1,null,"48f02c1c",null,!1,l["a"],o);t["default"]=r.exports},ab14:function(e,t,i){"use strict";i("13a4");var l=i("de9e").default;Object.defineProperty(t,"__esModule",{value:!0}),t.virtualListMixin=void 0;var n=l(i("6d7c"));i("de50"),i("38ea");var a=i("459b"),o=50,c=500;t.virtualListMixin=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return{data:function(){return{currentIndex:0,useVirtualList:!0}},computed:{upMissed:function(){var t=this.currentIndex;return Math.max(0,t-e)},showingData:function(){var t=this.currentIndex,i=this.upMissed,l=this.list,a=this.useVirtualList;return a?l.slice(i,t+e).map((function(e,t){return(0,n.default)((0,n.default)({},e),{},{uniqueKey:t+i})})):l},hiddenUpPartStyle:function(){var e=this.upMissed,t=this.useVirtualList;if(!t)return"";var i="height: ".concat(e*o,"px;");return i},wrapStyle:function(){var e=this.list,t=this.useVirtualList;return t?"height: ".concat(e.length*o,"px;"):""}},methods:{updateCurrentIndex:function(e,t){var i=(0,a.getEventDetail)(e),l=i.scrollTop,n=i.scrollHeight;if(!(l<0)&&!(t+l>n)){var c=Math.round(l/o);this.currentIndex=c}}}}}},b3d3:function(e,t,i){var l=i("a8d8");t=l(!1),t.push([e.i,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.demo-container[data-v-48f02c1c]{flex:1;margin-top:6px;overflow:auto}.demo-wrap--hor .list__wrap[data-v-48f02c1c]{display:flex;height:100%}.demo-wrap--hor .list__item[data-v-48f02c1c]{min-width:100px;border-right:1px solid #f5f6fa;height:100%}.list__item[data-v-48f02c1c]{width:100%;height:50px;display:flex;align-items:center;justify-content:center;border-bottom:1px solid #f5f6fa;background:#fff;font-size:16px;box-sizing:border-box}',""]),e.exports=t},c444:function(e,t,i){var l=i("22e2");l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);var n=i("7f6e").default;n("6e5d3735",l,!0,{sourceMap:!1,shadowMode:!1})},c5c5:function(e,t,i){"use strict";i("13a4"),Object.defineProperty(t,"__esModule",{value:!0}),t.BindEventMixin=a;var l=i("459b"),n=0;function a(e){var t="binded_".concat(n);function i(){var i=this;i[t]||(e.call(i,l.on,!0),i[t]=!0)}function a(){var i=this;i[t]&&(e.call(i,l.off,!1),i[t]=!1)}return n+=1,{mounted:i,activated:i,deactivated:a,beforeDestroy:a}}},cd76:function(e,t,i){"use strict";i.r(t);var l=i("430b"),n=i("d2de");for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);i("dcb4");var o,c=i("87d0"),r=Object(c["a"])(n["default"],l["b"],l["c"],!1,null,"f3a00214",null,!1,l["a"],o);t["default"]=r.exports},d2de:function(e,t,i){"use strict";i.r(t);var l=i("1fe8"),n=i.n(l);for(var a in l)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return l[e]}))}(a);t["default"]=n.a},dcb4:function(e,t,i){"use strict";var l=i("c444"),n=i.n(l);n.a},fdd6:function(e,t,i){var l=i("b3d3");l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);var n=i("7f6e").default;n("45182648",l,!0,{sourceMap:!1,shadowMode:!1})}}]);