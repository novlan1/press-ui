(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-press-avatar-avatar~pages-press-image-image~pages-press-tree-select-tree-select~pages-press-up~b9b395eb"],{"07a0":function(t,e,i){var n=i("a8d8");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.press-image[data-v-c0a117b6]{position:relative;transition:opacity .5s ease-in-out}.press-image__image[data-v-c0a117b6]{width:100%;height:100%}.press-image__loading[data-v-c0a117b6], .press-image__error[data-v-c0a117b6]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;background-color:#f3f4f6;color:#909193;font-size:23px}',""]),t.exports=e},"0dbf":function(t,e,i){var n=i("07a0");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("7f6e").default;a("7dadadec",n,!0,{sourceMap:!1,shadowMode:!1})},1512:function(t,e,i){"use strict";i.r(e);var n=i("167c"),a=i("1bf9");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("ec8a");var r,s=i("87d0"),d=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"c0a117b6",null,!1,n["a"],r);e["default"]=d.exports},"167c":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("PressTransition",{attrs:{mode:"fade",show:t.show,duration:t.fade?t.durationTime:0,"custom-style":"display: inline-block;"+t.transitionStyle}},[i("div",{staticClass:"press-image",style:t.wrapStyle,on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onClick.apply(void 0,arguments)}}},[t.isError?t._e():[t.isNotInUni?i("InnerImage",{staticClass:"press-image__image",style:{borderRadius:t.round?"10000px":t.addUnit(t.radius),width:t.addUnit(t.width),height:t.addUnit(t.height)},attrs:{src:t.src,mode:t.mode,"show-menu-by-longpress":t.showMenuByLongpress,"lazy-load":t.lazyLoad},on:{error:function(e){arguments[0]=e=t.$handleEvent(e),t.onErrorHandler.apply(void 0,arguments)},load:function(e){arguments[0]=e=t.$handleEvent(e),t.onLoadHandler.apply(void 0,arguments)}}}):t._e(),t.isNotInUni?t._e():i("v-uni-image",{staticClass:"press-image__image",style:{borderRadius:t.round?"10000px":t.addUnit(t.radius),width:t.addUnit(t.width),height:t.addUnit(t.height)},attrs:{src:t.src,mode:t.mode,"show-menu-by-longpress":t.showMenuByLongpress,"lazy-load":t.lazyLoad},on:{error:function(e){arguments[0]=e=t.$handleEvent(e),t.onErrorHandler.apply(void 0,arguments)},load:function(e){arguments[0]=e=t.$handleEvent(e),t.onLoadHandler.apply(void 0,arguments)}}})],t.showLoading&&t.loading?i("div",{staticClass:"press-image__loading",style:{borderRadius:t.round?"50%":t.addUnit(t.radius),backgroundColor:t.backgroundColor,width:t.addUnit(t.width),height:t.addUnit(t.height)}},[t._t("loading",[i("PressIconPlus",{attrs:{name:t.loadingIcon,width:t.width,height:t.height}})])],2):t._e(),t.showError&&t.isError&&!t.loading?i("div",{staticClass:"press-image__error",style:{borderRadius:t.round?"50%":t.addUnit(t.radius),width:t.addUnit(t.width),height:t.addUnit(t.height)}},[t._t("error",[i("PressIconPlus",{attrs:{name:t.errorIcon,width:t.width,height:t.height}})])],2):t._e()],2)])},o=[]},"1bf9":function(t,e,i){"use strict";i.r(e);var n=i("22f3"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"22f3":function(t,e,i){"use strict";i("13a4");var n=i("de9e").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("6d7c")),o=n(i("cfdd")),r=i("09f0"),s=n(i("b47f")),d=i("12ef"),l=n(i("4710")),u=n(i("f72b")),c=n(i("a4d3"));e.default={name:"PressImage",options:{virtualHost:!0,styleIsolation:"shared"},components:{PressIconPlus:l.default,PressTransition:u.default,InnerImage:c.default},mixins:[o.default],emits:["click","error","load"],data:function(){return{isError:!1,loading:!0,opacity:1,durationTime:this.duration,backgroundStyle:{},show:!1,isNotInUni:(0,d.isNotInUni)()}},computed:{wrapStyle:function(){var t={};t.width=(0,r.addUnit)(this.width),t.height=(0,r.addUnit)(this.height),t.borderRadius=this.round?"10000px":(0,r.addUnit)(this.radius),t.overflow=this.radius>0?"hidden":"visible";var e=(0,s.default)([(0,a.default)((0,a.default)({},t),this.backgroundStyle),this.customStyle]);return e}},watch:{src:{immediate:!0,handler:function(t){t?(this.isError=!1,this.loading=!0):this.isError=!0}}},mounted:function(){this.show=!0},methods:{addUnit:r.addUnit,onClick:function(){this.$emit("click")},onErrorHandler:function(t){this.loading=!1,this.isError=!0,this.$emit("error",t)},onLoadHandler:function(t){this.loading=!1,this.isError=!1,this.$emit("load",t),this.removeBgColor()},removeBgColor:function(){this.backgroundStyle={backgroundColor:"transparent"}}}}},"3b59":function(t,e,i){"use strict";i.r(e);var n=i("e8dc"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},4531:function(t,e,i){var n=i("a8d8");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-image[data-v-43825bf0]{display:inline-block;overflow:hidden;position:relative}uni-image[hidden][data-v-43825bf0]{display:none}uni-image > div[data-v-43825bf0]{width:100%;height:100%}uni-image > img[data-v-43825bf0]{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;display:block;position:absolute;top:0;left:0;width:100%;height:100%;opacity:0}uni-image > .uni-image-will-change[data-v-43825bf0]{will-change:transform}',""]),t.exports=e},6562:function(t,e,i){var n=i("4531");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("7f6e").default;a("56533867",n,!0,{sourceMap:!1,shadowMode:!1})},"6e55":function(t,e,i){"use strict";var n=i("12ef"),a=i("e293");(0,n.isNotInUni)()&&(0,a.setCustomElements)(["uni-image"],app)},"94e5":function(t,e,i){"use strict";var n=i("6562"),a=i.n(n);a.a},a4d3:function(t,e,i){"use strict";i.r(e);var n=i("d67e"),a=i("3b59");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("94e5");var r,s=i("87d0"),d=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"43825bf0",null,!1,n["a"],r);e["default"]=d.exports},cfdd:function(t,e,i){"use strict";i("13a4"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("29c8");e.default={props:{src:{type:String,default:""},mode:{type:String,default:"scaleToFill"},width:{type:[String,Number],default:300},height:{type:[String,Number],default:225},round:{type:Boolean,default:!1},radius:{type:[String,Number],default:0},lazyLoad:{type:Boolean,default:!0},showMenuByLongpress:{type:Boolean,default:!0},loadingIcon:{type:String,default:"photo"},errorIcon:{type:String,default:"photo-fail"},showLoading:{type:Boolean,default:!0},showError:{type:Boolean,default:!0},fade:{type:Boolean,default:!0},webp:{type:Boolean,default:!1},duration:{type:[String,Number],default:500},backgroundColor:{type:String,default:"#f3f4f6"},customStyle:{type:String,default:""},transitionStyle:{type:String,default:""}}}},d67e:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isVue2?i("uni-image",t._g({},t.$listeners),[i("div",{ref:"content",style:t.style}),"widthFix"===t.mode||"heightFix"===t.mode?i("div",{ref:"sensor",on:{resize:function(e){arguments[0]=e=t.$handleEvent(e),t._fixSize()}}}):t._e()]):i("uni-image",t._b({},"uni-image",t.$attrs,!1),[i("div",{ref:"content",style:t.style}),"widthFix"===t.mode||"heightFix"===t.mode?i("div",{ref:"sensor",on:{resize:function(e){arguments[0]=e=t.$handleEvent(e),t._fixSize()}}}):t._e()])},o=[]},e8dc:function(t,e,i){"use strict";i("13a4");var n=i("de9e").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("3eee"));function o(t){return("undefined"===typeof navigator||(0,a.default)(navigator))&&"Google Inc."===navigator.vendor&&t>10&&(t=2*Math.round(t/2)),t}i("6e55");e.default={name:"Image",props:{src:{type:String,default:""},mode:{type:String,default:"scaleToFill"},lazyLoad:{type:[Boolean,String],default:!1},draggable:{type:Boolean,default:!1}},data:function(){return{originalWidth:0,originalHeight:0,originalStyle:{width:"",height:""},contentPath:""}},computed:{isVue2:function(){var t=!0;return t},ratio:function(){return this.originalWidth&&this.originalHeight?this.originalWidth/this.originalHeight:0},style:function(){var t="auto",e="",i="no-repeat";switch(this.mode){case"aspectFit":t="contain",e="center center";break;case"aspectFill":t="cover",e="center center";break;case"widthFix":case"heightFix":t="100% 100%";break;case"top":e="center top";break;case"bottom":e="center bottom";break;case"center":e="center center";break;case"left":e="left center";break;case"right":e="right center";break;case"top left":e="left top";break;case"top right":e="right top";break;case"bottom left":e="left bottom";break;case"bottom right":e="right bottom";break;default:t="100% 100%",e="0% 0%";break}return{"background-image":this.contentPath?'url("'.concat(this.contentPath,'")'):"none","background-position":e,"background-size":t,"background-repeat":i}}},watch:{src:function(){this._loadImage()},mode:function(t,e){"widthFix"!==e&&"heightFix"!==e||this._resetSize(),"widthFix"!==t&&"heightFix"!==t||this._fixSize()},contentPath:function(t){!t&&this.__img&&(this.__img.remove(),delete this.__img)}},mounted:function(){this.originalStyle.width=this.$el.style.width||"",this.originalStyle.height=this.$el.style.height||"",this._loadImage()},beforeDestroy:function(){this._clearImage()},methods:{_fixSize:function(){if(this.ratio){var t=this.$el;if("widthFix"===this.mode){var e=t.offsetWidth;e&&(t.style.height="".concat(o(e/this.ratio),"px"))}else if("heightFix"===this.mode){var i=t.offsetHeight;i&&(t.style.width="".concat(o(i*this.ratio),"px"))}}window.dispatchEvent(new CustomEvent("updateview"))},_resetSize:function(){this.$el.style.width=this.originalStyle.width,this.$el.style.height=this.originalStyle.height},_resetData:function(){this.originalWidth=0,this.originalHeight=0,this.contentPath=""},_loadImage:function(){var t=this,e=this.src;if(e){this._img=this._img||new Image;var i=this._img;i.onload=function(n){t._img=null,t.originalWidth=i.width;var a=t.originalWidth;t.originalHeight=i.height;var o=t.originalHeight;t._fixSize(),t.contentPath=e,i.draggable=t.draggable,t.__img&&t.__img.remove(),t.__img=i,t.$el.appendChild(i),t.$emit("load",n,{width:a,height:o})},i.onerror=function(e){t._img=null,t._resetData(),t.$emit("error",e,{errMsg:"GET ".concat(t.src," 404 (Not Found)")})},i.src=e}else this._clearImage(),this._resetData()},_clearImage:function(){var t=this._img;t&&(t.onload=null,t.onerror=null,this._img=null)}}}},ec8a:function(t,e,i){"use strict";var n=i("0dbf"),a=i.n(n);a.a}}]);