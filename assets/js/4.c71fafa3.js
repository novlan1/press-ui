(window.webpackJsonp=window.webpackJsonp||[]).push([[4,18,29,30],{404:function(t,e,n){"use strict";var o=n(1),r=!1;e.a=function(t,e){if(!o.a.prototype.$isServer){var n=function(t){e.drag&&e.drag(t)},a=function(t){document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",a),document.onselectstart=null,document.ondragstart=null,r=!1,e.end&&e.end(t)};t.addEventListener("mousedown",(function(t){r||(document.onselectstart=function(){return!1},document.ondragstart=function(){return!1},document.addEventListener("mousemove",n),document.addEventListener("mouseup",a),r=!0,e.start&&e.start(t))}))}}},409:function(t,e,n){},410:function(t,e,n){},430:function(t,e,n){"use strict";n(409)},431:function(t,e,n){"use strict";n(410)},432:function(t,e,n){},433:function(t,e,n){},441:function(t,e,n){"use strict";n.r(e);var o=n(404),r={props:{color:{type:Object,default:function(){return{}}},vertical:{type:Boolean,default:!0}},data:function(){return{thumbLeft:0,thumbTop:0}},computed:{hueValue:function(){return this.color.get("hue")}},watch:{hueValue:function(){this.update()}},mounted:function(){var t=this,e=this.$refs,n=e.bar,r=e.thumb,a={drag:function(e){t.handleDrag(e)},end:function(e){t.handleDrag(e)}};Object(o.a)(n,a),Object(o.a)(r,a),this.update()},methods:{handleClick:function(t){var e=this.$refs.thumb;t.target!==e&&this.handleDrag(t)},handleDrag:function(t){var e,n=this.$el.getBoundingClientRect(),o=this.$refs.thumb;if(this.vertical){var r=t.clientY-n.top;r=Math.min(r,n.height-o.offsetHeight/2),r=Math.max(o.offsetHeight/2,r),e=Math.round((r-o.offsetHeight/2)/(n.height-o.offsetHeight)*360)}else{var a=t.clientX-n.left;a=Math.min(a,n.width-o.offsetWidth/2),a=Math.max(o.offsetWidth/2,a),e=Math.round((a-o.offsetWidth/2)/(n.width-o.offsetWidth)*360)}this.color.set("hue",e)},getThumbLeft:function(){if(this.vertical)return 0;var t=this.$el,e=this.color.get("hue");if(!t)return 0;var n=this.$refs.thumb;return Math.round(e*(t.offsetWidth-n.offsetWidth/2)/360)},getThumbTop:function(){if(!this.vertical)return 0;var t=this.$el,e=this.color.get("hue");if(!t)return 0;var n=this.$refs.thumb;return Math.round(e*(t.offsetHeight-n.offsetHeight/2)/360)},update:function(){this.thumbLeft=this.getThumbLeft(),this.thumbTop=this.getThumbTop()}}},a=(n(430),n(37)),s=Object(a.a)(r,(function(){var t=this._self._c;return t("div",{staticClass:"press-color-hue-slider",class:{"is-vertical":this.vertical}},[t("div",{ref:"bar",staticClass:"press-color-hue-slider__bar",on:{click:this.handleClick}}),this._v(" "),t("div",{ref:"thumb",staticClass:"press-color-hue-slider__thumb",style:{left:this.thumbLeft+"px",top:this.thumbTop+"px"}})])}),[],!1,null,"b64da036",null);e.default=s.exports},442:function(t,e,n){"use strict";n.r(e);var o=n(404),r={props:{color:{required:!0}},data:function(){return{cursorTop:0,cursorLeft:0,background:"hsl(0, 100%, 50%)"}},computed:{colorValue:function(){return{hue:this.color.get("hue"),value:this.color.get("value")}}},watch:{colorValue:function(){this.update()}},mounted:function(){var t=this;Object(o.a)(this.$el,{drag:function(e){t.handleDrag(e)},end:function(e){t.handleDrag(e)}}),this.update()},methods:{update:function(){var t=this.color.get("saturation"),e=this.color.get("value"),n=this.$el,o=n.clientWidth,r=n.clientHeight;this.cursorLeft=t*o/100,this.cursorTop=(100-e)*r/100,this.background="hsl(".concat(this.color.get("hue"),", 100%, 50%)")},handleDrag:function(t){var e=this.$el.getBoundingClientRect(),n=t.clientX-e.left,o=t.clientY-e.top;n=Math.max(0,n),n=Math.min(n,e.width),o=Math.max(0,o),o=Math.min(o,e.height),this.cursorLeft=n,this.cursorTop=o,this.color.set({saturation:n/e.width*100,value:100-o/e.height*100})}}},a=(n(431),n(37)),s=Object(a.a)(r,(function(){var t=this._self._c;return t("div",{staticClass:"press-color-svpanel",style:{backgroundColor:this.background}},[t("div",{staticClass:"press-color-svpanel__white"}),this._v(" "),t("div",{staticClass:"press-color-svpanel__black"}),this._v(" "),t("div",{staticClass:"press-color-svpanel__cursor",style:{top:this.cursorTop+"px",left:this.cursorLeft+"px"}},[t("div")])])}),[],!1,null,"477d4f32",null);e.default=s.exports},449:function(t,e,n){"use strict";n(432)},450:function(t,e,n){"use strict";n(433)},451:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={A:10,B:11,C:12,D:13,E:14,F:15},r={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},a=function(t){return"string"==typeof t&&-1!==t.indexOf(".")&&1===parseFloat(t)},s=function(t){return"string"==typeof t&&-1!==t.indexOf("%")};e.bound01=function(t,e){a(t)&&(t="100%");var n=s(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt("".concat(t*e),10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat("".concat(e))},e.isOnePointZero=a,e.isPercentage=s,e.parseHexChannel=function(t){return 2===t.length?16*(o[t[0].toUpperCase()]||+t[0])+(o[t[1].toUpperCase()]||+t[1]):o[t[0].toUpperCase()]||+t[0]},e.rgbToHex=function(t){var e=t.r,n=t.g,o=t.b,a=function(t){t=Math.min(Math.round(t),255);var e=Math.floor(t/16),n=t%16;return"".concat(r[e]||e).concat(r[n]||n)};return isNaN(e)||isNaN(n)||isNaN(o)?"":"#".concat(a(e)).concat(a(n)).concat(a(o))}},467:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(451);e.hsl2hsv=function(t,e,n){n/=100;var o=e/=100,r=Math.max(n,.01);return e*=(n*=2)<=1?n:2-n,o*=r<=1?r:2-r,{h:t,s:100*(0===n?2*o/(r+o):2*e/(n+e)),v:100*((n+e)/2)}},e.hsv2hsl=function(t,e,n){return[t,e*n/((t=(2-e)*n)<1?t:2-t)||0,t/2]},e.hsv2rgb=function(t,e,n){t=6*o.bound01(t,360),e=o.bound01(e,100),n=o.bound01(n,100);var r=Math.floor(t),a=t-r,s=n*(1-e),i=n*(1-a*e),c=n*(1-(1-a)*e),u=r%6,h=[n,i,s,s,c,n][u],l=[c,n,n,i,s,s][u],f=[s,s,c,n,n,i][u];return{r:Math.round(255*h),g:Math.round(255*l),b:Math.round(255*f)}},e.rgb2hsv=function(t,e,n){t=o.bound01(t,255),e=o.bound01(e,255),n=o.bound01(n,255);var r=Math.max(t,e,n),a=Math.min(t,e,n),s=0,i=r,c=r-a,u=0===r?0:c/r;if(r===a)s=0;else{switch(r){case t:s=(e-n)/c+(e<n?6:0);break;case e:s=(n-t)/c+2;break;case n:s=(t-e)/c+4}s/=6}return{h:360*s,s:100*u,v:100*i}}},468:function(t,e,n){},476:function(t,e,n){"use strict";n.r(e);n(218);var o=n(441),r=n(442),a={components:{HueSlider:o.default,SvPanel:r.default},props:{color:{type:Object,default:function(){return{}}}},data:function(){return{customInput:"",showPopper:!1}},computed:{currentColor:function(){var t=this.$parent;return t.value||t.showPanelColor?t.color.value:""}},watch:{showPopper:function(t){var e=this;!0===t&&this.$nextTick((function(){var t=e.$refs,n=t.sl,o=t.hue,r=t.alpha;n&&n.update(),o&&o.update(),r&&r.update()}))},currentColor:{immediate:!0,handler:function(t){this.customInput=t}}},mounted:function(){this.popperElm=this.$el,this.$parent.popperElm=this.popperElm,this.referenceElm=this.$parent.$el},methods:{confirmValue:function(){this.$emit("pick")},handleConfirm:function(){this.color.fromString(this.customInput)}}},s=(n(449),n(450),n(37)),i=Object(s.a)(a,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"press-color-wrap"},[e("div",{staticClass:"press-color-upper"},[e("SvPanel",{attrs:{color:t.color}}),t._v(" "),e("HueSlider",{attrs:{color:t.color}})],1),t._v(" "),e("div",{staticClass:"press-color-buttons"},[e("div",{staticClass:"press-color-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.customInput,expression:"customInput"}],staticClass:"press-input",domProps:{value:t.customInput},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleConfirm.apply(null,arguments)},blur:t.handleConfirm,input:function(e){e.target.composing||(t.customInput=e.target.value)}}})]),t._v(" "),e("div",[e("button",{staticClass:"press-button press-button--text press-button--mini",on:{click:function(e){return t.$emit("clear")}}},[t._v("\n        清空\n      ")]),t._v(" "),e("button",{staticClass:"press-button press-button--primary press-button--mini",on:{click:t.confirmValue}},[t._v("\n        确定\n      ")])])])])}),[],!1,null,"d9716a36",null);e.default=i.exports},505:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(451),r=n(467);function a(t){var e=t.value,n=t.reg,o=void 0===n?/hsla|hsl|\(|\)/gm:n,a=t.transformFunc,s=void 0===a?r.hsl2hsv:a,i=100,c=0,u=100,h=100,l=e.replace(o,"").split(/\s|,/g).filter((function(t){return""!==t})).map((function(t,e){return e>2?parseFloat(t):parseInt(t,10)}));if(4===l.length?i=Math.floor(100*parseFloat("".concat(l[3]))):3===l.length&&(i=100),l.length>=3){var f=s(l[0],l[1],l[2]);c=f.h,u=f.s,h=f.v}return{h:c,s:u,v:h,alpha:i}}function s(t){return a({value:t,reg:/hsla|hsl|\(|\)/gm,transformFunc:r.hsl2hsv})}function i(t){var e=100,n=t.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter((function(t){return""!==t})).map((function(t,e){return e>2?parseFloat(t):parseInt(t,10)}));return 4===n.length?e=Math.floor(100*parseFloat("".concat(n[3]))):3===n.length&&(e=100),{h:n[0],s:n[1],v:n[2],alpha:e}}function c(t){return a({value:t,reg:/rgba|rgb|\(|\)/gm,transformFunc:r.rgb2hsv})}function u(t){var e=t.replace("#","").trim(),n=0,r=0,a=0,s=0;return/^(?:[0-9a-fA-F]{3}){1,2}|[0-9a-fA-F]{8}$/.test(e)?(3===e.length?(n=o.parseHexChannel(e[0]+e[0]),r=o.parseHexChannel(e[1]+e[1]),a=o.parseHexChannel(e[2]+e[2])):6!==e.length&&8!==e.length||(n=o.parseHexChannel(e.substring(0,2)),r=o.parseHexChannel(e.substring(2,4)),a=o.parseHexChannel(e.substring(4,6))),8===e.length?s=Math.floor(o.parseHexChannel(e.substring(6))/255*100):3!==e.length&&6!==e.length||(s=100),{r:n,g:r,b:a,alpha:s}):{r:n,g:r,b:a,alpha:s}}e.parseColorToHSV=function(t){var e,n,o,a=100,h=0,l=100,f=100;if(-1!==t.indexOf("hsl")){var p=s(t);h=p.h,l=p.s,f=p.v,a=p.alpha}else if(-1!==t.indexOf("hsv")){p=i(t);h=p.h,l=p.s,f=p.v,a=p.alpha}else if(-1!==t.indexOf("rgb")){p=c(t);h=p.h,l=p.s,f=p.v,a=p.alpha}else if(-1!==t.indexOf("#")){var d=u(t),v=d.r,m=d.g,g=d.b;a=d.alpha;p=r.rgb2hsv(v,m,g);h=p.h,l=p.s,f=p.v}return e=h,n=l,o=f,h=Math.max(0,Math.min(360,e)),l=Math.max(0,Math.min(100,n)),f=Math.max(0,Math.min(100,o)),{h:h,s:l,v:f,alpha:a}},e.parseHSLString=s,e.parseHSVString=i,e.parseRGBBracket=c,e.parseRGBHex=u},506:function(t,e,n){"use strict";n(468)},508:function(t,e,n){"use strict";n.r(e);n(35),n(31),n(102);var o=n(476),r=n(99),a=n(47),s=n(48),i=n(505).parseColorToHSV,c=n(467).hsv2rgb,u=n(451).rgbToHex,h=function(){return Object(s.a)((function t(e){for(var n in Object(a.a)(this,t),this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="",e=e||{})e.hasOwnProperty(n)&&(this[n]=e[n]);this.doOnChange()}),[{key:"set",value:function(t,e){if(1!==arguments.length||"object"!==Object(r.a)(t))this["_".concat(t)]=e,this.doOnChange();else for(var n in t)t.hasOwnProperty(n)&&this.set(n,t[n])}},{key:"get",value:function(t){return this["_".concat(t)]}},{key:"toRgb",value:function(){return c(this._hue,this._saturation,this._value)}},{key:"fromString",value:function(t){if(!t)return this._hue=0,this._saturation=100,this._value=100,void this.doOnChange();var e=i(t),n=e.h,o=e.s,r=e.v,a=e.alpha;this._hue=n,this._saturation=o,this._value=r,this._hue=a,this.doOnChange()}},{key:"compare",value:function(t){return Math.abs(t._hue-this._hue)<2&&Math.abs(t._saturation-this._saturation)<1&&Math.abs(t._value-this._value)<1&&Math.abs(t._alpha-this._alpha)<1}},{key:"doOnChange",value:function(){var t,e,n,o=this._hue,r=this._saturation,a=this._value,s=this._alpha,i=this.format,h=[t=o,(e=r/100)*(n=a/100)/((t=(2-e)*n)<1?t:2-t)||0,t/2],l=c(o,r,a),f=l.r,p=l.g,d=l.b;if(this.enableAlpha)switch(i){case"hsl":this.value="hsla(".concat(o,", ").concat(Math.round(100*h[1]),"%, ").concat(Math.round(100*h[2]),"%, ").concat(s/100,")");break;case"hsv":this.value="hsva(".concat(o,", ").concat(Math.round(r),"%, ").concat(Math.round(a),"%, ").concat(s/100,")");break;default:this.value="rgba(".concat(f,", ").concat(p,", ").concat(d,", ").concat(s/100,")")}else switch(i){case"hsl":this.value="hsl(".concat(o,", ").concat(Math.round(100*h[1]),"%, ").concat(Math.round(100*h[2]),"%)");break;case"hsv":this.value="hsv(".concat(o,", ").concat(Math.round(r),"%, ").concat(Math.round(a),"%)");break;case"rgb":this.value="rgb(".concat(f,", ").concat(p,", ").concat(d,")");break;default:this.value=u(c(o,r,a))}}}])}();n(20),n(52),n(12),n(53);function l(t,e,n){this.$children.forEach((function(o){o.$options.componentName===t?o.$emit.apply(o,[e].concat(n)):l.apply(o,[t,e].concat([n]))}))}var f={methods:{dispatch:function(t,e,n){for(var o=this.$parent||this.$root,r=o.$options.componentName;o&&(!r||r!==t);)(o=o.$parent)&&(r=o.$options.componentName);o&&o.$emit.apply(o,[e].concat(n))},broadcast:function(t,e,n){l.call(this,t,e,n)}}},p={components:{PickerDropdown:o.default},mixins:[f],props:{value:{type:String,default:""}},data:function(){return{color:new h({}),showPicker:!1,showPanelColor:!1}},computed:{displayedColor:function(){return this.value||this.showPanelColor?this.displayedRgb(this.color,this.showAlpha):"transparent"}},watch:{value:function(t){t?t&&t!==this.color.value&&this.color.fromString(t):this.showPanelColor=!1},color:{deep:!0,handler:function(){this.showPanelColor=!0}},displayedColor:function(t){if(this.showPicker){var e=new h({enableAlpha:this.showAlpha,format:this.colorFormat});e.fromString(this.value),t!==this.displayedRgb(e,this.showAlpha)&&this.$emit("active-change",t)}}},mounted:function(){var t=this.value;t&&this.color.fromString(t),this.popperElm=this.$refs.dropdown.$el,document.addEventListener("click",this.onDocumentClick)},beforeDestroy:function(){document.removeEventListener("click",this.onDocumentClick)},methods:{onDocumentClick:function(t){this.$el.contains(t.target)||(this.showPicker=!1)},handleTrigger:function(){this.colorDisabled||(this.showPicker=!this.showPicker)},confirmValue:function(){var t=this.color.value;this.$emit("input",t),this.$emit("change",t),this.dispatch("ElFormItem","el.form.change",t),this.showPicker=!1},clearValue:function(){this.$emit("input",null),this.$emit("change",null),null!==this.value&&this.dispatch("ElFormItem","el.form.change",null),this.showPanelColor=!1,this.showPicker=!1,this.resetColor()},hide:function(){this.showPicker=!1,this.resetColor()},resetColor:function(){var t=this;this.$nextTick((function(){t.value?t.color.fromString(t.value):t.showPanelColor=!1}))},displayedRgb:function(t,e){if(!(t instanceof h))throw Error("color should be instance of Color Class");var n=t.toRgb(),o=n.r,r=n.g,a=n.b;return e?"rgba(".concat(o,", ").concat(r,", ").concat(a,", ").concat(t.get("alpha")/100,")"):"rgb(".concat(o,", ").concat(r,", ").concat(a,")")}}},d=(n(506),n(37)),v=Object(d.a)(p,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"press-color-picker"},[e("div",{staticClass:"press-color-picker__trigger",style:{backgroundColor:t.displayedColor},on:{click:function(e){return e.stopPropagation(),t.handleTrigger.apply(null,arguments)}}})]),t._v(" "),e("PickerDropdown",{directives:[{name:"show",rawName:"v-show",value:t.showPicker,expression:"showPicker"}],ref:"dropdown",attrs:{color:t.color},on:{pick:t.confirmValue,clear:t.clearValue}})],1)}),[],!1,null,"2b25ef72",null);e.default=v.exports}}]);