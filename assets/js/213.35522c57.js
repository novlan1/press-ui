(window.webpackJsonp=window.webpackJsonp||[]).push([[213],{691:function(t,s,a){"use strict";a.r(s);var e=a(34),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"常见问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常见问题"}},[t._v("#")]),t._v(" 常见问题")]),t._v(" "),s("p",[t._v("下面是使用中的常见问题。")]),t._v(" "),s("h2",{attrs:{id:"_1-必须配置-transpiledependencies"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-必须配置-transpiledependencies"}},[t._v("#")]),t._v(" 1. 必须配置 "),s("code",[t._v("transpileDependencies")])]),t._v(" "),s("p",[t._v("由于 "),s("code",[t._v("Press UI")]),t._v(" 提供的是源码，在 "),s("code",[t._v("vue.config.js")]),t._v(" 中必须配置 "),s("code",[t._v("transpileDependencies")]),t._v("，示例如下。")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("transpileDependencies")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'press-ui'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"_2-sass-版本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-sass-版本"}},[t._v("#")]),t._v(" 2. sass 版本")]),t._v(" "),s("p",[t._v("由于 "),s("code",[t._v("Press UI")]),t._v(" 提供的是源码，"),s("code",[t._v("sass")]),t._v(" 样式需业务侧自行编译。")]),t._v(" "),s("p",[t._v("这里报告一个问题，如果 "),s("code",[t._v("sass")]),t._v(" 版本 "),s("code",[t._v("<= 1.39.2")]),t._v(" 时，包含 "),s("code",[t._v("calc")]),t._v(" 的样式会可能不生效。")]),t._v(" "),s("h2",{attrs:{id:"_3-vue3-兼容"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-vue3-兼容"}},[t._v("#")]),t._v(" 3. Vue3 兼容")]),t._v(" "),s("p",[t._v("对于 "),s("code",[t._v("v-model")]),t._v("，Press UI 内部使用了一个 "),s("code",[t._v("adapter")]),t._v("，"),s("code",[t._v("Vue2")]),t._v(" 会接收 "),s("code",[t._v("value")]),t._v("，"),s("code",[t._v("Vue3")]),t._v(" 会接收 "),s("code",[t._v("modelValue")]),t._v("，同时 "),s("code",[t._v("Vue2")]),t._v(" 会触发 "),s("code",[t._v("input")]),t._v(" 事件，而 "),s("code",[t._v("Vue3")]),t._v(" 会触发 "),s("code",[t._v("update:modelValue")]),t._v(" 事件。")]),t._v(" "),s("p",[t._v("Press UI 中使用了此 "),s("code",[t._v("adapter")]),t._v(" 的组件有：")]),t._v(" "),s("ul",[s("li",[s("RouterLink",{attrs:{to:"/components/press/press-field.html"}},[t._v("press-field")])],1),t._v(" "),s("li",[s("RouterLink",{attrs:{to:"/components/press/press-list.html"}},[t._v("press-list")])],1),t._v(" "),s("li",[s("RouterLink",{attrs:{to:"/components/press/press-popover-plus.html"}},[t._v("press-popover-plus")])],1)]),t._v(" "),s("h2",{attrs:{id:"_4-plus-组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-plus-组件"}},[t._v("#")]),t._v(" 4. Plus 组件")]),t._v(" "),s("p",[t._v("由于 Press UI 是在王者赛宝项目开发中，同步搭建的，一些组件直接由王者赛宝项目中沉淀而来，比如 "),s("code",[t._v("popup")]),t._v("、"),s("code",[t._v("icon")]),t._v("、"),s("code",[t._v("picker")]),t._v(" 等。")]),t._v(" "),s("p",[t._v("后面引入了更通用的、API 与 Vant 相同的同名组件，但之前的名称被占用了，所以采用了 "),s("code",[t._v("xx-plus")]),t._v(" 这样的命名方式，比如 "),s("code",[t._v("popup-plus")]),t._v("、"),s("code",[t._v("icon-plus")]),t._v("、"),s("code",[t._v("picker-plus")]),t._v("等。")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Vant 组件")]),t._v(" "),s("th",[t._v("Press UI 组件")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("dialog")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/components/press/press-dialog-plus.html"}},[t._v("dialog-plus")])],1)]),t._v(" "),s("tr",[s("td",[t._v("icon")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/components/press/press-icon-plus.html"}},[t._v("icon-plus")])],1)]),t._v(" "),s("tr",[s("td",[t._v("loading")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/components/press/press-loading-plus.html"}},[t._v("loading-plus")])],1)]),t._v(" "),s("tr",[s("td",[t._v("picker")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/components/press/press-picker-plus.html"}},[t._v("picker-plus")])],1)]),t._v(" "),s("tr",[s("td",[t._v("popover")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/components/press/press-popover-plus.html"}},[t._v("popover-plus")])],1)]),t._v(" "),s("tr",[s("td",[t._v("popup")]),t._v(" "),s("td",[s("RouterLink",{attrs:{to:"/components/press/press-popup-plus.html"}},[t._v("popup-plus")])],1)])])]),t._v(" "),s("h2",{attrs:{id:"_5-vue3-非-uni-app-项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-vue3-非-uni-app-项目"}},[t._v("#")]),t._v(" 5. Vue3 非 uni-app 项目")]),t._v(" "),s("p",[t._v("如果报警告 "),s("code",[t._v("Failed to resolve component: Button")]),t._v("，可以在 main.ts 中设置")]),t._v(" "),s("div",{staticClass:"language-ts extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[t._v("app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("component")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Button'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'button'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("如果报 "),s("code",[t._v("Failed to resolve component: uni-scroll-view")]),t._v(" 等，可以在 "),s("code",[t._v("vite.config.ts")]),t._v(" 中按需设置：")]),t._v(" "),s("div",{staticClass:"language-ts extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" customElements "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'uni-scroll-view'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// image")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'uni-image'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// dialog")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Button'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// circle")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cover-view'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// notice-bar")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'navigator'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineConfig")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  plugins"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("vue")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      template"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        compilerOptions"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("isCustomElement")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tag"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" customElements"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("includes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"_6-一些不做的组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-一些不做的组件"}},[t._v("#")]),t._v(" 6. 一些不做的组件")]),t._v(" "),s("h3",{attrs:{id:"_6-1-space"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-space"}},[t._v("#")]),t._v(" 6.1. Space")]),t._v(" "),s("p",[t._v("评估了下 "),s("code",[t._v("Space")]),t._v(" 组件的实现，用了 "),s("code",[t._v("$slots.default")]),t._v("，然后给每个子元素都包裹了 "),s("code",[t._v("space-item")]),t._v(" 类名。由于小程序的 "),s("code",[t._v("$slots.default")]),t._v(" 为 布尔值，所以小程序无法实现。")]),t._v(" "),s("p",[t._v("当前也可以提供 "),s("code",[t._v("Space")]),t._v(" 和 "),s("code",[t._v("SpaceItem")]),t._v(" 两个组件，就像 "),s("code",[t._v("Collapse")]),t._v(" 和 "),s("code",[t._v("CollapseItem")]),t._v(" 一样，不过感觉意义不大，自己写成本也不高。")]),t._v(" "),s("h3",{attrs:{id:"_6-2-textellipsis"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-textellipsis"}},[t._v("#")]),t._v(" 6.2. TextEllipsis")]),t._v(" "),s("p",[t._v("原理是在文档下生成了一个不可见的元素，通过它获取真实内容的宽高。同样由于小程序不支持动态创建元素，所以 Press UI 暂不考虑实现。")]),t._v(" "),s("h2",{attrs:{id:"_7-桌面端适配"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-桌面端适配"}},[t._v("#")]),t._v(" 7. 桌面端适配")]),t._v(" "),s("p",[t._v("Press UI 是一个面向移动端的组件库，因此默认只适配了移动端设备，这意味着组件只监听了移动端的 "),s("code",[t._v("touch")]),t._v(" 事件，没有监听桌面端的 "),s("code",[t._v("mouse")]),t._v(" 事件。")]),t._v(" "),s("p",[t._v("如果你需要在桌面端使用 Press UI，可以引入我们提供的 "),s("code",[t._v("touch-emulator")]),t._v("，这个库会在桌面端自动将 "),s("code",[t._v("mouse")]),t._v(" 事件转换成对应的 "),s("code",[t._v("touch")]),t._v(" 事件，使得组件能够在桌面端使用。")]),t._v(" "),s("div",{staticClass:"language-ts extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'press-ui/common/touch-emulator'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);